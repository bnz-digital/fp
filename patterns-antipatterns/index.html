<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/fp/styles.ad8166324bf654e1b4a9.css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{color:#1e90ff;background-color:transparent;text-decoration:none;-webkit-text-decoration-skip:objects}a:active,a:hover{color:#4169e1;outline-width:0;text-decoration:underline}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em Verdana,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:Verdana,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{margin:0 0 1.45rem;color:inherit;font-size:2.25rem}h1,h2{padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{margin:3rem 0 1.45rem;color:#b22222;font-size:1.62671rem}h2:before{content:"\2605   ";vertical-align:text-top}h3{padding:0;margin:3rem 0 1.45rem;color:#b22222;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.38316rem;line-height:1.1}h3:before{padding-right:.5rem;content:"\261E   "}h4{font-size:1rem}h4,h5{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h5{font-size:.85028rem}h6{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:.78405rem;line-height:1.1}h6,hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}a>{line-height:1.45rem}kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{font-size:1.05rem;color:#b22222;border-radius:3px}pre code{font-size:.88rem;background:none;line-height:1.42;padding:0}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.react-syntax-highlighter-line-number{color:grey}.code-block{margin:2rem 0}.separator{display:inline-block;padding:0 .5rem}.offsite-link{color:#2e8b57;text-decoration:underline}blockquote{background-color:#ffe4e1;padding:.5rem}a:hover>code{color:#4169e1;outline-width:0;text-decoration:underline}</style><meta name="generator" content="Gatsby 2.13.45"/><title data-react-helmet="true">Patterns and antipatterns | How to FP</title><script data-react-helmet="true" src="https://embed.runkit.com" data-element-id="runkit"></script><style data-styled="" data-styled-version="4.3.2"></style><link rel="shortcut icon" href="/fp/icons/icon-48x48.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="manifest" href="/fp/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/fp/icons/icon-48x48.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="72x72" href="/fp/icons/icon-72x72.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="96x96" href="/fp/icons/icon-96x96.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="144x144" href="/fp/icons/icon-144x144.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="192x192" href="/fp/icons/icon-192x192.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="256x256" href="/fp/icons/icon-256x256.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="384x384" href="/fp/icons/icon-384x384.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="512x512" href="/fp/icons/icon-512x512.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link as="script" rel="preload" href="/fp/webpack-runtime-12b18eabc456ef980898.js"/><link as="script" rel="preload" href="/fp/app-cde82fcbca3a4edba03d.js"/><link as="script" rel="preload" href="/fp/styles-c54a44287a55b5827151.js"/><link as="script" rel="preload" href="/fp/1-fb0f1017b9d3441c806f.js"/><link as="script" rel="preload" href="/fp/2-33a1569ae39f9377b1e4.js"/><link as="script" rel="preload" href="/fp/component---src-pages-patterns-antipatterns-index-mdx-046bd13a07b907c505ec.js"/><link as="fetch" rel="preload" href="/fp/page-data/patterns-antipatterns/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header style="background:RebeccaPurple;margin-bottom:1.45rem"><div style="display:flex;align-items:center;margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0;display:inline-block;flex-grow:1"><a style="color:white;text-decoration:none" href="/fp/">How to FP</a></h1><div style="flex-shrink:1"><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/inductive">Bottom-up</a><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/deductive">Top-down</a><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/patterns-antipatterns">Patterns</a></div></div></header><div style="margin:0 auto;max-width:960px;padding:0 1.0875rem 1.45rem;padding-top:0"><main><p><a href="/fp/">Home</a><span class="separator">Â»</span>Patterns and antipatterns</p><article><ul><li>No more Page Objects</li><li>Enter Page Modules</li><li>But what about inheritance?</li><li>Favour composition over inheritance</li><li>Readability</li></ul><h3 id="no-more-page-objects">No more Page Objects</h3><p>The <strong>Page Object</strong> design pattern offers two benefits:</p><ol><li>It keeps all page element selectors in one place; thus, it provides separation of test code from the locators of the application under test (AUT).</li><li>It standardises how tests interact with the page; thus, it avoids duplication of code and eases code maintenance.</li></ol><p>Object-orientation (OO) in JavaScript is a bit awkward. Introduction of the <code class="language-text">class</code> keyword in JavaScript 2015 helped, but classes, and specifically the <code class="language-text">this</code> keyword, still surprise people Java programmers because they work very differently.</p><p><a href="https://kentcdodds.com/blog/classes-complexity-and-functional-programming">Here is a great blog from Kent C. Dodds which highlights this point</a>.</p><h3 id="enter-page-modules">Enter Page Modules</h3><p>In Java land, it&#x27;s pretty common to find Page Objects which inherit from the Base Page. In JavaScript, that might look like this:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code><span style="color:#859900">import</span> { HomePage } <span style="color:#859900">from</span> <span style="color:#2aa198">&#x27;./BasePage&#x27;</span>

<span class="hljs-class"><span style="color:#859900">class</span> <span style="color:#268bd2">HomePage</span> <span style="color:#859900">extends</span> <span style="color:#268bd2">BasePage</span>  </span>{
  <span style="color:#859900">constructor</span>() {
    <span style="color:#859900">super</span>();
    <span style="color:#859900">this</span>.mainElement = <span style="color:#2aa198">&#x27;body &gt; .banner&#x27;</span>;
  }
  <span style="color:#586e75">//... More code</span>

  <span style="color:#859900">export</span> <span style="color:#859900">const</span> mainPage = <span style="color:#859900">new</span> MainPage();
}</code></pre><p><em>With the move to functional programming, we are going to loose not only <strong>inheritance</strong>, but the <code class="language-text">class</code> itself.</em> Therefore, we need to use <strong>modules</strong> to arrange our code. Each module exports public functions that can be imported into other modules and used:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><code><span style="color:#93a1a1">// In the HomePage module (HomePage.js or HomePage/index.js)</span>
<span style="color:#859900">export</span> <span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">login</span> (<span class="hljs-params">email, password</span>) </span>{
  <span style="color:#93a1a1">//...</span>
}

<span style="color:#859900">export</span> <span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">logout</span> (<span class="hljs-params"></span>) </span>{
  <span style="color:#93a1a1">//...</span>
}

<span style="color:#859900">export</span> <span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">search</span> (<span class="hljs-params">criterion</span>) </span>{
  <span style="color:#93a1a1">// ...</span>
}</code></pre><p>This module can then be imported into your tests or other modules and used as below:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span></code><code><span style="color:#93a1a1">// In the HomePageTest module (HomePageTest.js or HomePageTest/index.js)</span>
<span style="color:#859900">import</span> * <span style="color:#859900">as</span> homePage <span style="color:#859900">from</span> <span style="color:#2aa198">&#x27;./HomePage.js&#x27;</span>

describe(<span style="color:#2aa198">&#x27;Home Page&#x27;</span>, () =&gt; {
  it(<span style="color:#2aa198">&#x27;User can login&#x27;</span>, () =&gt; {
      cy.visit(<span style="color:#2aa198">&#x27;/&#x27;</span>)
      homePage.login(<span style="color:#2aa198">&#x27;prateek&#x27;</span>, <span style="color:#2aa198">&#x27;123456&#x27;</span>)
  })
})</code></pre><p>or we can import individual functions from a module selectively:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span></code><code><span style="color:#859900">import</span> { login } <span style="color:#859900">from</span> <span style="color:#2aa198">&#x27;./HomePage.js&#x27;</span>

describe(<span style="color:#2aa198">&#x27;Home Page&#x27;</span>, () =&gt; {
  it(<span style="color:#2aa198">&#x27;User can login&#x27;</span>, () =&gt; {
    cy.visit(<span style="color:#2aa198">&#x27;/&#x27;</span>)
    login(<span style="color:#2aa198">&#x27;prateek&#x27;</span>, <span style="color:#2aa198">&#x27;123456&#x27;</span>)
  })
})</code></pre><p>In general, import only the functions you need when possible.</p><h3 id="but-what-about-inheritance">But what about inheritance?</h3><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code><span style="color:#859900">public</span> <span class="hljs-class"><span style="color:#859900">class</span> <span style="color:#268bd2">HomePage</span> <span style="color:#859900">extends</span> <span style="color:#268bd2">BasePage</span> </span>{ ... } <span style="color:#93a1a1">// Java</span></code></pre><p>Often we come across test suites where Page Objects extend a <code class="language-text">BasePage</code> or every test file extends a <code class="language-text">BaseTest</code> class.</p><p>The intention behind this is typically code reuse. Most often the <code class="language-text">BaseTest</code> class has methods related to login, logout, logging, etc.</p><p><strong>Please don&#x27;t do that.</strong> Bundling <em>unrelated functionality</em> into a parent class for the purpose of reuse is an abuse of inheritance.</p><p>Common functionality required by <strong>specs</strong> can be added as Cypress <strong>custom commands</strong>. Custom commands are available to be used globally with the <code class="language-text">cy.</code> prefix. For example, we can add a method called <code class="language-text">login</code> using a custom command:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span></code><code>Cypress.Commands.add(<span style="color:#2aa198">&#x27;login&#x27;</span>, (username, password) =&gt; {
    cy.get(<span style="color:#2aa198">&#x27;#username&#x27;</span>).type(username)
    <span style="color:#93a1a1">//...</span>
})</code></pre><p>The <code class="language-text">Cypress.Commands.add</code> function takes the <em>name</em> of the custom command as the first argument, and a <em>function</em> as the second argument.</p><p>Now we can use that name to call the custom command in any spec:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span></code><code>describe(<span style="color:#2aa198">&#x27;Login Page&#x27;</span>, () =&gt; {
  it(<span style="color:#2aa198">&#x27;User can login&#x27;</span>, () =&gt; {
    cy.login(<span style="color:#2aa198">&#x27;prateek&#x27;</span>, <span style="color:#2aa198">&#x27;123456&#x27;</span>)
    <span style="color:#93a1a1">// ...</span>
  })
})</code></pre><p>Note: functionality that is shared between a few specs <em>but not all</em> should be added to <strong>utility modules</strong> instead of adding a custom command. Reserve custom commands for widely-used functionality. </p><h3 id="favour-composition-over-inheritance">âFavour composition over inheritanceâ</h3><p>Why? Watch this video to find out:</p><iframe width="560" height="315" src="https://www.youtube.com/embed/wfMtDGfHWpA" frameBorder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p>Now, consider the code below that uses <strong>inheritance</strong> (don&#x27;t do this):</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span></code><code><span style="color:#586e75">// DON&#x27;T DO THIS!</span>
<span class="hljs-class"><span style="color:#859900">class</span> <span style="color:#268bd2">Person</span> </span>{
  <span style="color:#859900">constructor</span>(nameGiven, nameFamily) {
    <span style="color:#859900">this</span>.nameGiven = nameGiven
    <span style="color:#859900">this</span>.nameFamily = nameFamily
  }

  get fullName () {
    <span style="color:#859900">return</span> <span style="color:#2aa198">`<span style="color:#cb4b16">${<span style="color:#859900">this</span>.nameGiven}</span> <span style="color:#cb4b16">${<span style="color:#859900">this</span>.nameFamily}</span>`</span>
  }
}

<span class="hljs-class"><span style="color:#859900">class</span> <span style="color:#268bd2">Employee</span> <span style="color:#859900">extends</span> <span style="color:#268bd2">Person</span> </span>{
  <span style="color:#859900">constructor</span>(nameGiven, nameFamily, id) {
    <span style="color:#859900">super</span>(nameGiven, nameFamily)
    
    <span style="color:#859900">this</span>.id = id
  }
  
  toString () {
    <span style="color:#859900">return</span> <span style="color:#2aa198">`My name is <span style="color:#cb4b16">${<span style="color:#859900">this</span>.fullName}</span> and my employee ID is <span style="color:#cb4b16">${<span style="color:#859900">this</span>.id}</span>.`</span>
  }
}

<span style="color:#859900">const</span> employee = <span style="color:#859900">new</span> Employee(<span style="color:#2aa198">&#x27;Lucy&#x27;</span>, <span style="color:#2aa198">&#x27;Fur&#x27;</span>, <span style="color:#2aa198">666</span>)

<span style="color:#586e75">// Note that `fullName` works even though it is in Person, not Employee</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.fullName: <span style="color:#cb4b16">${employee.fullName}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.toString(): <span style="color:#cb4b16">${employee.toString()}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;employee:&#x27;</span>, employee)</code></pre><p>Inheritance is actually a form of <!-- -->â<!-- -->object composition<!-- -->â<!-- -->. It is the form that binds the objects most tightly, hence it is the one to be most avoided, if possible.</p><p>Here we are using inheritance to provide for code reuse. There is no separate <code class="language-text">Person</code> object to which <code class="language-text">Employee</code> refers. <code class="language-text">Employee</code> simply inherits the properties (and methods, if any) of the <code class="language-text">Person</code> object, so, for example, the <code class="language-text">fullName</code> getter is available both within <code class="language-text">Employee</code> (as in the <code class="language-text">toString</code> method) and on instances of <code class="language-text">Employee</code>.</p><p>The same functionality could be achieved using <strong>composition</strong>. There are three common ways to compose objects in JavaScript: aggregation, delegation, and concatenation.</p><p><strong>Aggregation</strong> preserves the objects that we&#x27;re composing (aggregating). Here, an <code class="language-text">Employee</code> is simply a wrapper around a <code class="language-text">Person</code> that adds an employee <code class="language-text">id</code> property. A key feature of aggregation is that the <code class="language-text">Person</code> object retains its integrity and we can extract it from the <code class="language-text">Employee</code> object:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span></code><code><span style="color:#93a1a1">// Person factory</span>
<span style="color:#859900">const</span> createPerson = <span class="hljs-function">(<span class="hljs-params">nameGiven, nameFamily</span>) =&gt;</span> ({ nameGiven, nameFamily })

<span style="color:#93a1a1">// Employee factory (by aggregation)</span>
<span style="color:#859900">const</span> createEmployeeByAggregation = <span class="hljs-function">(<span class="hljs-params">id, person</span>) =&gt;</span> ({
  id,
  person
})

<span style="color:#93a1a1">// New Person: Jane</span>
<span style="color:#859900">const</span> jane = createPerson(<span style="color:#2aa198">&#x27;Jane&#x27;</span>, <span style="color:#2aa198">&#x27;Dobbs&#x27;</span>)

<span style="color:#93a1a1">// Make Jane employee #1</span>
<span style="color:#859900">const</span> employee = createEmployeeByAggregation(<span style="color:#2aa198">1</span>, jane)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;employee:&#x27;</span>, employee)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.id: <span style="color:#cb4b16">${employee.id}</span>`</span>)

<span style="color:#93a1a1">// To access the properties of the Person we have to reach into employee.person:</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.person.nameGiven: <span style="color:#cb4b16">${employee.person.nameGiven}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.person.nameFamily: <span style="color:#cb4b16">${employee.person.nameFamily}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.person.nickname: <span style="color:#cb4b16">${employee.person.nickname}</span>`</span>)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Set jane.nickname to &#x27;Mom&#x27;`</span>)
jane.nickname = <span style="color:#2aa198">&#x27;Mom&#x27;</span>

<span style="color:#93a1a1">// We can see the new nickname property because our Employee</span>
<span style="color:#93a1a1">// simply points to the Person object</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.person.nickname: <span style="color:#cb4b16">${employee.person.nickname}</span>`</span>)

<span style="color:#93a1a1">// We can also extract the Person object from the Employee</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Here is our employee.person:&#x27;</span>, employee.person)</code></pre><p><strong>Delegation</strong> is similar, except we do not inject the <code class="language-text">Person</code> into the <code class="language-text">Employee</code>, so the <code class="language-text">Person</code> is not directly visible in the <code class="language-text">Employee</code> and we can&#x27;t extract the <code class="language-text">Person</code> back out again as easily.</p><p>However, the properties of the <code class="language-text">Person</code> are directly accessible from within the <code class="language-text">Employee</code>, and if we mutate the <code class="language-text">Person</code> (which we won&#x27;t, right?), then those changes are immediately visible in the <code class="language-text">Employee</code> that delegates to that person.</p><p>To pull the <code class="language-text">Person</code> back out, we&#x27;ve got to get it from the prototype: <code class="language-text">Object.getPrototypeOf(employee)</code>.</p><p>Delegation can be used to save memory, while making the properties of <code class="language-text">Person</code> <em>directly</em> accessible from within <code class="language-text">Employee</code> (i.e., we don&#x27;t have to go through the <code class="language-text">person</code> property):</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span></code><code><span style="color:#93a1a1">// Person factory</span>
<span style="color:#859900">const</span> createPerson = <span class="hljs-function">(<span class="hljs-params">nameGiven, nameFamily</span>) =&gt;</span> ({ nameGiven, nameFamily })

<span style="color:#93a1a1">// Employee factory (by delegation)</span>
<span style="color:#859900">const</span> createEmployeeByDelegation = <span class="hljs-function">(<span class="hljs-params">id, person</span>) =&gt;</span> <span style="color:#dc322f">Object</span>.assign(
  <span style="color:#dc322f">Object</span>.create(person),
  { id }
)

<span style="color:#93a1a1">// New Person: J.R.</span>
<span style="color:#859900">const</span> jr = createPerson(<span style="color:#2aa198">&#x27;J.R.&#x27;</span>, <span style="color:#2aa198">&#x27;Dobbs&#x27;</span>)

<span style="color:#93a1a1">// Make J.R. employee #2</span>
<span style="color:#859900">const</span> employee = createEmployeeByDelegation(<span style="color:#2aa198">2</span>, jr)

<span style="color:#93a1a1">// Person properties remain in the Person (jr) and</span>
<span style="color:#93a1a1">// are not visible in the Employee object</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;employee:&#x27;</span>, employee)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.id: <span style="color:#cb4b16">${employee.id}</span>`</span>)

<span style="color:#93a1a1">// But we can still reference the Person properties</span>
<span style="color:#93a1a1">// as if they were part of the Employee object</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nameGiven: <span style="color:#cb4b16">${employee.nameGiven}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nameFamily: <span style="color:#cb4b16">${employee.nameFamily}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nickname: <span style="color:#cb4b16">${employee.nickname}</span>`</span>)

<span style="color:#93a1a1">// And when we update the Person, the Employee properties reflect this</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Set jr.nickname to &#x27;Bob&#x27;`</span>)
jr.nickname = <span style="color:#2aa198">&#x27;Bob&#x27;</span>

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nickname: <span style="color:#cb4b16">${employee.nickname}</span>`</span>)

<span style="color:#93a1a1">// Where is the person? In the prototype:</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Object.getPrototypeOf(employee):&#x27;</span>, <span style="color:#dc322f">Object</span>.getPrototypeOf(employee))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Same person? <span style="color:#cb4b16">${<span style="color:#dc322f">Object</span>.is(<span style="color:#dc322f">Object</span>.getPrototypeOf(employee), jr)}</span>`</span>)</code></pre><p><strong>Concatenation</strong> is the simplest and often the best for our purposes as we always make copies rather than mutating in place. If we are never going to mutate the <code class="language-text">Person</code> object once we&#x27;ve created it, then why bother linking to it? This is the loosest form of coupling, and should be the first one to which we turn.</p><p>Concatenation simply creates a new object, copying the properties from all objects passed:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span></code><code><span style="color:#93a1a1">// Person factory</span>
<span style="color:#859900">const</span> createPerson = <span class="hljs-function">(<span class="hljs-params">nameGiven, nameFamily</span>) =&gt;</span> ({ nameGiven, nameFamily })

<span style="color:#93a1a1">// Employee factory (by concatenation)</span>
<span style="color:#859900">const</span> createEmployeeByConcatenation = <span class="hljs-function">(<span class="hljs-params">id, person</span>) =&gt;</span> ({
  id,
  ...person
})

<span style="color:#93a1a1">// New Person: Marsh</span>
<span style="color:#859900">const</span> marsh = createPerson(<span style="color:#2aa198">&#x27;Marsh&#x27;</span>, <span style="color:#2aa198">&#x27;Dobbs&#x27;</span>)

<span style="color:#93a1a1">// Make Marsh employee #3</span>
<span style="color:#859900">const</span> employee = createEmployeeByConcatenation(<span style="color:#2aa198">3</span>, marsh)

<span style="color:#93a1a1">// We&#x27;ve copied all the properties into a new object so all are visible</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;employee:&#x27;</span>, employee)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.id: <span style="color:#cb4b16">${employee.id}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nameGiven: <span style="color:#cb4b16">${employee.nameGiven}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nameFamily: <span style="color:#cb4b16">${employee.nameFamily}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nickname: <span style="color:#cb4b16">${employee.nickname}</span>`</span>)

<span style="color:#93a1a1">// However, we are no longer connected to our Person (marsh)</span>
<span style="color:#93a1a1">// so when we update `marsh`, we do not update `employee`</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Set marsh.nickname to &#x27;Connie&#x27;`</span>)
marsh.nickname = <span style="color:#2aa198">&#x27;Connie&#x27;</span>

<span style="color:#93a1a1">// That said, if we are maintaining immutability, then we will</span>
<span style="color:#93a1a1">// never update the Person, so this won&#x27;t matter</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.nickname: <span style="color:#cb4b16">${employee.nickname}</span>`</span>, <span style="color:#2aa198">&#x27;&#x27;</span>)</code></pre><p>Note: Functions which return objects are called <strong>factory functions</strong>.</p><p>In our inheritance example above, <code class="language-text">Person</code> provided a <code class="language-text">fullName</code> getter<!-- -->â<!-- -->a computed property. The functional way to do this is with a utility function. We could put all our functions used for <code class="language-text">Person</code> in a <code class="language-text">Person</code> module rather than a <code class="language-text">Person</code> class. Then we import that module<!-- -->â<!-- -->or just the functions we need<!-- -->â<!-- -->and use them.</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span></code><code><span style="color:#93a1a1">// Person factory</span>
<span style="color:#859900">const</span> createPerson = <span class="hljs-function">(<span class="hljs-params">nameGiven, nameFamily</span>) =&gt;</span> ({ nameGiven, nameFamily })

<span style="color:#93a1a1">// Employee factory (by concatenation)</span>
<span style="color:#859900">const</span> createEmployee = <span class="hljs-function">(<span class="hljs-params">id, person</span>) =&gt;</span> ({
  id,
  ...person
})

<span style="color:#93a1a1">// Our fullName utility function is effectively polymorphic</span>
<span style="color:#93a1a1">// It will work with *any* object that has nameGiven and nameFamily properties</span>
<span style="color:#859900">const</span> fullName = <span class="hljs-function">(<span class="hljs-params">{ nameGiven, nameFamily }</span>) =&gt;</span> (<span style="color:#2aa198">`<span style="color:#cb4b16">${nameGiven}</span> <span style="color:#cb4b16">${nameFamily}</span>`</span>)

<span style="color:#93a1a1">// New Person: Marsh</span>
<span style="color:#859900">const</span> marsh = createPerson(<span style="color:#2aa198">&#x27;Marsh&#x27;</span>, <span style="color:#2aa198">&#x27;Dobbs&#x27;</span>)

<span style="color:#93a1a1">// Make Marsh employee #3</span>
<span style="color:#859900">const</span> employee = createEmployee(<span style="color:#2aa198">3</span>, marsh)

<span style="color:#93a1a1">// We&#x27;ve copied all the properties into a new object so all are visible</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;marsh:&#x27;</span>, marsh)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`fullName(marsh): <span style="color:#cb4b16">${fullName(marsh)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;employee:&#x27;</span>, employee)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`employee.id: <span style="color:#cb4b16">${employee.id}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`fullName(employee): <span style="color:#cb4b16">${fullName(employee)}</span>`</span>)</code></pre><h3 id="readability">Readability</h3><p>The reason many people give for using Page Objects is that they encapsulate the complexity of the UI and the locators, which helps with reusability and making the tests more readable. But what is the tradeoff? (There is <em>always</em> a tradeoff.) And is there a better way?</p><p>Note: For these examples I am using the <a href="https://github.com/cypress-io/cypress-example-todomvc">Cypress TodoMVC Example Repo</a> and refactoring a few tests.</p><p>Consider this typical Cypress example:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><code>describe(<span style="color:#2aa198">&#x27;Todo Application&#x27;</span>, () =&gt; {
  it(<span style="color:#2aa198">&#x27;Can add a new Todo&#x27;</span>, () =&gt; {
    cy.get(<span style="color:#2aa198">&#x27;.new-todo&#x27;</span>)    <span style="color:#586e75">// What am I getting here? It&#x27;s not clear</span>
      .type(<span style="color:#2aa198">&#x27;First Todo&#x27;</span>)  <span style="color:#586e75">// Entering text, so maybe some type of input?</span>
      .type(<span style="color:#2aa198">&#x27;{enter}&#x27;</span>)     <span style="color:#586e75">// Hitting enter, so maybe submitting a form?</span>

    cy.get(<span style="color:#2aa198">&#x27;.todo-list li&#x27;</span>)            <span style="color:#586e75">// Some list element</span>
      .eq(<span style="color:#2aa198">0</span>)                           <span style="color:#586e75">// Not even sure what this is</span>
      .find(<span style="color:#2aa198">&#x27;label&#x27;</span>)                    <span style="color:#586e75">// Has a label element</span>
      .should(<span style="color:#2aa198">&#x27;contain&#x27;</span>, <span style="color:#2aa198">&#x27;First Todo&#x27;</span>) <span style="color:#586e75">// That should contain this text. Who cares?</span>
  })
})</code></pre><p>As you can see, while the <em>action</em> we&#x27;re undertaking<!-- -->â<code class="language-text">get</code>, <code class="language-text">type</code>, <code class="language-text">eq</code>, <code class="language-text">find</code>, <code class="language-text">should</code>â<!-- -->is obvious, what we&#x27;re actually trying to accomplish is <strong>not clear at all.</strong>.</p><p>Contrast that with this equivalent example:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code><span style="color:#859900">import</span> { addTodo, getTopTodoFromList, getTodoLabel } <span style="color:#859900">from</span> <span style="color:#2aa198">&#x27;./TodoUtil&#x27;</span>

<span style="color:#859900">const</span> TODO_LABEL = <span style="color:#2aa198">&#x27;My Todo&#x27;</span>

describe(<span style="color:#2aa198">&#x27;Todo Application&#x27;</span>, () =&gt; {
  it(<span style="color:#2aa198">&#x27;Can add a new Todo&#x27;</span>, () =&gt; addTodo(TODO_LABEL)
    .then(getTopTodoFromList)
    .then(getTodoLabel)
    .should(<span style="color:#2aa198">&#x27;equal&#x27;</span>, TODO_LABEL)
  )
})</code></pre><p>The first example is <strong>imperative</strong>. It tells Cypress <strong>how</strong> to execute the test. Our second, better example is <strong>declarative</strong>. We have abstracted away the <!-- -->â<!-- -->how<!-- -->â<!-- --> and we simply concern ourselves with <strong>what</strong> to do.</p><p>Our declarative second example is far more readable, which means much lower cognitive load for the reader: we can understand it at a glance. Even non-technical personnel, such as your business analyst or product owner, can read and understand this test easily. Note also that we no longer need comments to explain what we&#x27;re doing.</p><p><strong>And we get the added benefit of the reusability of the utility functions <code class="language-text">addTodo</code>, <code class="language-text">getTopTodoFromList</code>, and <code class="language-text">getTodoLabel</code>.</strong></p><p>So where can we find our <code class="language-text">addTodo</code>, <code class="language-text">getTopTodoFromList</code>, and <code class="language-text">getTodoLabel</code> functions? They&#x27;re nicely tucked away in our <code class="language-text">TodoUtil.js</code> or <code class="language-text">TodoUtil/index.js</code> file:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span></code><code><span style="color:#93a1a1">// TodoUtil.js</span>
<span style="color:#859900">export</span> <span style="color:#859900">const</span> addTodo = <span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> cy.get(<span style="color:#2aa198">&#x27;.new-todo&#x27;</span>).type(<span style="color:#2aa198">`<span style="color:#cb4b16">${name}</span>{enter}`</span>)

<span style="color:#859900">export</span> <span style="color:#859900">const</span> getTopTodoFromList = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> cy.get(<span style="color:#2aa198">&#x27;.todo-list&#x27;</span>).eq(<span style="color:#2aa198">0</span>)

<span style="color:#859900">export</span> <span style="color:#859900">const</span> getTodoLabel = <span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.find(<span style="color:#2aa198">&#x27;label&#x27;</span>).text()</code></pre><p>This is where we hide the imperative code. At some low level, we will always need to tell the computer <strong>how</strong> to do things. But if we abstract this code into library or utility functions with <strong>concise, clear names</strong>, then our actual code is as easy to read as plain English. That is a major benefit of working in a <strong>declarative</strong> style.</p></article></main></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/patterns-antipatterns/";window.webpackCompilationHash="da2e471c23020342d8a9";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-cde82fcbca3a4edba03d.js"],"component---src-pages-404-js":["/component---src-pages-404-js-1ce82a7329752cfbfca7.js"],"component---src-pages-deductive-more-fp-concepts-index-mdx":["/component---src-pages-deductive-more-fp-concepts-index-mdx-d9da15fec7757a8be410.js"],"component---src-pages-deductive-pure-functions-index-mdx":["/component---src-pages-deductive-pure-functions-index-mdx-34c14b53c3f78b4cfd8f.js"],"component---src-pages-inductive-immutability-index-mdx":["/component---src-pages-inductive-immutability-index-mdx-7e66e6ffc15f0a755537.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-db7e57739ae3af0dc620.js"],"component---src-pages-inductive-composition-index-mdx":["/component---src-pages-inductive-composition-index-mdx-59dc7630be19198e3517.js"],"component---src-pages-deductive-index-mdx":["/component---src-pages-deductive-index-mdx-eb6794428925aa9aec79.js"],"component---src-pages-inductive-reusability-index-mdx":["/component---src-pages-inductive-reusability-index-mdx-1845a724360511dc8cf6.js"],"component---src-pages-inductive-iteration-index-mdx":["/component---src-pages-inductive-iteration-index-mdx-b23161780c0a4238425a.js"],"component---src-pages-inductive-index-mdx":["/component---src-pages-inductive-index-mdx-62e1a4d2f68d3d5459a0.js"],"component---src-pages-patterns-antipatterns-index-mdx":["/component---src-pages-patterns-antipatterns-index-mdx-046bd13a07b907c505ec.js"]};/*]]>*/</script><script src="/fp/component---src-pages-patterns-antipatterns-index-mdx-046bd13a07b907c505ec.js" async=""></script><script src="/fp/2-33a1569ae39f9377b1e4.js" async=""></script><script src="/fp/1-fb0f1017b9d3441c806f.js" async=""></script><script src="/fp/styles-c54a44287a55b5827151.js" async=""></script><script src="/fp/app-cde82fcbca3a4edba03d.js" async=""></script><script src="/fp/webpack-runtime-12b18eabc456ef980898.js" async=""></script></body></html>
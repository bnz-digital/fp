<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/fp/styles.880d324577c9d5efbbb6.css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{color:#1e90ff;background-color:transparent;text-decoration:none;-webkit-text-decoration-skip:objects}a:active,a:hover{color:#4169e1;outline-width:0;text-decoration:underline}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em Verdana,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:Verdana,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{margin:0 0 1.45rem;color:inherit;font-size:2.25rem}h1,h2{padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{margin:3rem 0 1.45rem;color:#b22222;font-size:1.62671rem}h2:before{content:"\2605   ";vertical-align:text-top}h3{padding:0;margin:3rem 0 1.45rem;color:#b22222;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.38316rem;line-height:1.1}h3:before{padding-right:.5rem;content:"\261E   "}h4{font-size:1rem}h4,h5{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h5{font-size:.85028rem}h6{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:.78405rem;line-height:1.1}h6,hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}a>{line-height:1.45rem}kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{font-size:1.05rem;color:#b22222;border-radius:3px}pre code{font-size:.88rem;background:none;line-height:1.42;padding:0}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.react-syntax-highlighter-line-number{color:grey}.code-block{margin:2rem 0 2rem 1.2rem}.separator{display:inline-block;padding:0 .5rem}.offsite-link{color:#2e8b57;text-decoration:underline}blockquote{background-color:#ffe4e1;padding:.5rem}a:hover>code{color:#4169e1;outline-width:0;text-decoration:underline}</style><meta name="generator" content="Gatsby 2.13.45"/><title data-react-helmet="true">Pure functions | How to FP</title><script data-react-helmet="true" src="https://embed.runkit.com" data-element-id="runkit"></script><style data-styled="iNAoKP" data-styled-version="4.3.2">
/* sc-component-id: OffsiteLink__Link-sc-1q37dqh-0 */
.iNAoKP .react-icon{color:LightSlateGray;display:inline-block;padding-left:0.3rem;vertical-align:text-top;}</style><link rel="shortcut icon" href="/fp/icons/icon-48x48.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="manifest" href="/fp/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/fp/icons/icon-48x48.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="72x72" href="/fp/icons/icon-72x72.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="96x96" href="/fp/icons/icon-96x96.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="144x144" href="/fp/icons/icon-144x144.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="192x192" href="/fp/icons/icon-192x192.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="256x256" href="/fp/icons/icon-256x256.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="384x384" href="/fp/icons/icon-384x384.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="512x512" href="/fp/icons/icon-512x512.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link as="script" rel="preload" href="/fp/webpack-runtime-35465749ac35021f27cf.js"/><link as="script" rel="preload" href="/fp/app-ed49bf2cd0d7bcd9064c.js"/><link as="script" rel="preload" href="/fp/styles-43dba2dda6c1ce97687d.js"/><link as="script" rel="preload" href="/fp/1-4ea2f67fcdf6d9805daf.js"/><link as="script" rel="preload" href="/fp/2-1474719d1bd15294ba42.js"/><link as="script" rel="preload" href="/fp/3-ccf680f27f8eac55059e.js"/><link as="script" rel="preload" href="/fp/component---src-pages-deductive-pure-functions-index-mdx-91155412594b9a143e5f.js"/><link as="fetch" rel="preload" href="/fp/page-data/deductive/pure-functions/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header style="background:MediumBlue;margin-bottom:1.45rem"><div style="display:flex;align-items:center;margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0;display:inline-block;flex-grow:1"><a style="color:white;text-decoration:none" href="/fp/">How to FP</a></h1><div style="flex-shrink:1"><a aria-current="page" style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" class="" href="/fp/deductive/pure-functions/">Pure functions</a><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/deductive/more-fp-concepts">More FP concepts</a></div></div></header><div style="margin:0 auto;max-width:960px;padding:0 1.0875rem 1.45rem;padding-top:0"><main><p><a href="/fp/">Home</a><span class="separator">»</span><a href="/fp/deductive/">Top-down</a><span class="separator">»</span>Pure functions</p><article><p>A <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">pure function</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span> is a function which:</p><ol><li>Given the same inputs, always returns the same output, and</li><li>Has no side-effects (we&#x27;ll explain below)</li></ol><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span></code><code><span style="color:#93a1a1">// Impure functions (AVOID THESE!)</span>
<span style="color:#93a1a1">// This function yields a different result when called multiple times,</span>
<span style="color:#93a1a1">// hence it&#x27;s not a pure function</span>
<span style="color:#859900">const</span> getRandomNumber = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span style="color:#dc322f">Math</span>.random().toFixed(<span style="color:#2aa198">2</span>)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`First call impure: <span style="color:#cb4b16">${getRandomNumber()}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Second call impure: <span style="color:#cb4b16">${getRandomNumber()}</span>`</span>)

<span style="color:#93a1a1">// Pure functions</span>
<span style="color:#93a1a1">// Calling this function with the same arguments yields the same result,</span>
<span style="color:#93a1a1">// even when called multiple times</span>
<span style="color:#859900">const</span> add = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x + y

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`First call pure: <span style="color:#cb4b16">${add(<span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Second call pure: <span style="color:#cb4b16">${add(<span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>)}</span>`</span>)</code></pre><p>If you run the above Runkit multiple times, you&#x27;ll see that the <code class="language-text">getRandomNumber</code> function returns an unpredictable number between 0 and 1, wheras given the same <code class="language-text">x</code> and <code class="language-text">y</code> values, the <code class="language-text">add</code> function will always return the same result, e.g., <code class="language-text">add(2, 3) // returns 5</code>.</p><p>Because pure functions are <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://en.wikipedia.org/wiki/Referential_transparency" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">referentially transparent</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span>, we can use <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://en.wikipedia.org/wiki/Substitution_(algebra" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">substitution</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span> to replace a pure function call with its result without changing the meaning of the program. This makes it easier to reason about our programs.</p><p>Returning the same result when called more than once is also called <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://en.wikipedia.org/wiki/Idempotence" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">idempotency</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span>. And idempotency is a Very Good Thing<!-- -->™<!-- -->.</p><p>Let&#x27;s look at another example using shared state:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span></code><code><span style="color:#93a1a1">// The pure version</span>
<span style="color:#859900">const</span> addPure = <span class="hljs-function">(<span class="hljs-params">x, y</span>) =&gt;</span> x + y

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`First call to  \`addPure(2, 3)\`: <span style="color:#cb4b16">${addPure(<span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Second call to  \`addPure(2, 3)\`: <span style="color:#cb4b16">${addPure(<span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>)}</span>`</span>)

<span style="color:#859900">let</span> x = <span style="color:#2aa198">2</span> <span style="color:#93a1a1">// Shared state: DON&#x27;T DO THIS!</span>

<span style="color:#93a1a1">// Our impure version depends on a variable outside its scope</span>
<span style="color:#859900">const</span> addImpure = <span class="hljs-function"><span class="hljs-params">y</span> =&gt;</span> x + y

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`\`x\` is \`2\`. Let&#x27;s call \`addImpure(3)\`: <span style="color:#cb4b16">${addImpure(<span style="color:#2aa198">3</span>)}</span>`</span>)

x = <span style="color:#2aa198">6</span>

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`\`x\` is now \`6\`. Now let&#x27;s call \`addImpure(3)\` again: <span style="color:#cb4b16">${addImpure(<span style="color:#2aa198">3</span>)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Oops.&#x27;</span>)</code></pre><h3 id="avoid-side-effects">Avoid side effects</h3><p>A <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">side effect</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span> is any application state change that is observable outside the called function other than its return value. Side effects include:</p><ul><li>Modifying shared state: any external variable or object property (e.g., a global variable, or a variable in the parent function scope chain)</li><li>Logging to the console</li><li>Writing to the screen</li><li>Writing to a file</li><li>Writing to the network</li><li>Triggering any external process</li><li>Calling any other functions with side-effects</li></ul><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span></code><code><span style="color:#586e75">// This function depends on a side effect (AVOID THIS)</span>
<span style="color:#859900">const</span> displayName = <span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`My name is <span style="color:#cb4b16">${name}</span>`</span>)

<span style="color:#859900">const</span> result = displayName(<span style="color:#2aa198">&#x27;Prateek&#x27;</span>) <span style="color:#586e75">// Logs &#x27;My name is Prateek&#x27; to the console</span>

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`displayName(&#x27;Prateek&#x27;) returned <span style="color:#cb4b16">${result}</span>`</span>)</code></pre><p>As you can see, the effect of calling <code class="language-text">displayName</code> was to log a message to the console. The result returned from the function was <code class="language-text">undefined</code>. So the <em>effect</em> of the function was <em>not</em> solely dependent on the value returned from the function. This, too, is an impure function and should be avoided whenever possible.</p><p>Avoiding side effects makes it much easier to understand how a program works, and much easier to test it as well.</p><h3 id="avoid-shared-state">Avoid shared state</h3><p>Shared state is any variable, object, or memory space that exists in a shared scope, or as the property of an object being passed between scopes. A shared scope can include global scope or closure scopes. Often, in object-oriented programming, objects are shared between scopes by adding properties to other objects.</p><p>For example, a computer game might have a master game object, with characters and game items stored as properties owned by that object. Functional programming avoids shared state<!-- -->—<!-- -->instead relying on immutable data structures and pure calculations to derive new data from existing data. </p><p>The problem with shared state is that in order to understand the effects of a function, you have to know <em>the entire history of every shared variable that the function uses or affects</em>. <a href="https://en.wikipedia.org/wiki/Race_condition#Example">Race conditions</a> are a very common bug associated with shared state.</p><p>(Note: although JavaScript is single-threaded, it is still possible to share state and to create problems that way.)</p><p>Another common problem associated with shared state is that changing the <strong>order in which functions are called</strong> can cause a cascade of failures because functions that act on shared state are timing dependent:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span></code><code><span style="color:#93a1a1">// With shared state, the order in which function calls are made</span>
<span style="color:#93a1a1">// changes the result of the function calls</span>
<span style="color:#859900">const</span> x = { <span style="color:#b58900">value</span>: <span style="color:#2aa198">2</span> }

<span style="color:#93a1a1">// These operate on the shared state x</span>
<span style="color:#859900">const</span> incrementX = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> x.value += <span style="color:#2aa198">1</span>
<span style="color:#859900">const</span> doubleX = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> x.value *= <span style="color:#2aa198">2</span>

incrementX()
doubleX()

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The value of x after increment then double is <span style="color:#cb4b16">${x.value}</span>`</span>)

<span style="color:#93a1a1">// Reset x</span>
x.value = <span style="color:#2aa198">2</span>

<span style="color:#93a1a1">// Run the functions in reverse order</span>
doubleX()
incrementX()

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The value of x after double then increment is <span style="color:#cb4b16">${x.value}</span>`</span>)</code></pre><p>The above is obviously oversimplified, but it&#x27;s not difficult to imagine a more complex example where shared state could get you in trouble. Also, shared state makes it difficult to thread or parallel process. In FP, we avoid shared state as much as possible.</p><h3 id="avoid-mutating-state">Avoid mutating state</h3><p><strong>Immutability</strong> is a central concept of functional programming because without it, the data flow in your program is <strong>lossy</strong>. State history is abandoned, and strange bugs can creep into your software.</p><p>Mutation causes defects. If you have a dollar, and I give you another dollar, it does not change the fact that a moment ago you only had one dollar, and now you have two. Again, mutation <em>erases history</em>, which can manifest as bugs in the program.</p><p>Here&#x27;s an example:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span></code><code><span style="color:#859900">let</span> mutableDollars = <span style="color:#2aa198">1</span> <span style="color:#93a1a1">// Mutable binding (don&#x27;t be doing this)</span>

<span style="color:#93a1a1">// Increment mutableDollars</span>
mutableDollars += <span style="color:#2aa198">1</span>

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`mutableDollars is <span style="color:#cb4b16">${mutableDollars}</span>, but what was it a moment ago?`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;History has been lost&#x27;</span>)

<span style="color:#859900">const</span> dollars = <span style="color:#2aa198">1</span> <span style="color:#93a1a1">// Cannot be reassigned (hence, immutable here)</span>

<span style="color:#93a1a1">// We can only make a new copy</span>
<span style="color:#859900">const</span> newDollars = dollars + <span style="color:#2aa198">1</span>

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`dollars is still <span style="color:#cb4b16">${dollars}</span>; newDollars is <span style="color:#cb4b16">${newDollars}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;History is preserved&#x27;</span>)

<span style="color:#859900">try</span> {
  dollars += <span style="color:#2aa198">1</span> <span style="color:#93a1a1">// Error!</span>
} <span style="color:#859900">catch</span> (e) {
  <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Can&#x27;t reassign dollars: <span style="color:#cb4b16">${e}</span>`</span>)
}</code></pre><p>If you have ever dubgged code where you have tried to figure out where a variable&#x27;s value changed to <code class="language-text">undefined</code>, then you&#x27;ll appreciate <em>immutability</em>.</p><p>This means when we practice <em>functional</em> JavaScript, <strong>everything is a <code class="language-text">const</code></strong>. We will never use <code class="language-text">var</code> or <code class="language-text">let</code>. </p><p>When you need to change the value of a variable, you&#x27;ll create a new variable. Example:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span></code><code><span style="color:#859900">const</span> state1 = { <span style="color:#b58900">saved</span>: <span style="color:#2aa198">false</span> }
<span style="color:#859900">const</span> state2 = { <span style="color:#b58900">saved</span>: <span style="color:#2aa198">false</span> }

<span style="color:#93a1a1">// MUTATION! DON&#x27;T DO THIS!</span>
<span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">saveByMutation</span> (<span class="hljs-params">obj</span>) </span>{
  obj.saved = <span style="color:#2aa198">true</span>

  <span style="color:#859900">return</span> obj
}

<span style="color:#93a1a1">// IMMUTABLE - returns a copy. DO THIS!</span>
<span style="color:#859900">const</span> saveByCopy = <span class="hljs-function"><span class="hljs-params">obj</span> =&gt;</span> ({ ...obj, <span style="color:#b58900">saved</span>: <span style="color:#2aa198">true</span> })

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;saveByMutation(state1) returns:&#x27;</span>, saveByMutation(state1))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Now state1 is:&#x27;</span>, state1)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;saveByCopy(state2) returns:&#x27;</span>, saveByCopy(state2))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;But state2 is still:&#x27;</span>, state2)</code></pre><p>As you can see from the example above, making a copy of state rather than mutating it means that <strong>our initial state remains unchanged</strong>, so we have lost no history (we can always discard the previous state if we don&#x27;t need it).</p><h3 id="const-not-immutable"><code>const</code> does not mean immutable</h3><p>In JavaScript, it&#x27;s important not to confuse <code class="language-text">const</code> with <em>immutability</em>. <code class="language-text">const</code> creates a variable name binding which <em>can&#x27;t be reassigned</em> after creation. <code class="language-text">const</code> does not create immutable objects!</p><p>If your variable name is bound to a primitive value such as a number, string, or boolean, then <code class="language-text">const</code> is &quot;effectively&quot; immutable. But if your variable points to a complex object, then although the object itself cannot be replaced, <em>properties on the object can be mutated.</em> This is not true immutability.</p><p>Truly immutable objects can&#x27;t be changed at all. You can make a value truly immutable by deep freezing the object. JavaScript has a method that freezes an object one-level deep:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span></code><code><span style="color:#859900">const</span> obj = { <span style="color:#b58900">x</span>: <span style="color:#2aa198">1</span>, <span style="color:#b58900">inner</span>: { <span style="color:#b58900">y</span>: <span style="color:#2aa198">2</span>, <span style="color:#b58900">z</span>: <span style="color:#2aa198">3</span> } }

<span style="color:#93a1a1">// We can update properties of obj even though it is a const</span>
obj.x = <span style="color:#2aa198">5</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`After obj.x = 5, obj is:`</span>, obj)

<span style="color:#93a1a1">// Object.freeze mutates the object, unfortunately, and</span>
<span style="color:#93a1a1">// freezes only one level deep</span>
<span style="color:#dc322f">Object</span>.freeze(obj)

obj.x = <span style="color:#2aa198">9</span>

<span style="color:#93a1a1">// Unfortunately, the above fails silently</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`After freezing and obj.x = 9, obj is:`</span>, obj)

<span style="color:#93a1a1">// But what happens when I try to set obj.inner.z?</span>
obj.inner.z = <span style="color:#2aa198">7</span>

<span style="color:#93a1a1">// Unfortunately, the above fails silently</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Despite freezing and after obj.inner.z = 7, obj is:`</span>, obj)</code></pre><p>As you can see, the top level primitive properties of a frozen object can’t change, but any property which is also an object (including arrays, etc…) can still be mutated<!-- -->—<!-- -->so even frozen objects are not immutable unless you walk the whole object tree and freeze every object property.</p><p>A better way to freeze objects to ensure that they are immutable is to write your own <code class="language-text">deepFreeze</code> function that returns a completely frozen <em>copy</em> of the object:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span></code><code><span style="color:#93a1a1">// Object.freeze stupidly mutates in place instead of returning a copy. Doh!</span>
<span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">freezeRecursively</span> (<span class="hljs-params">obj</span>) </span>{
  <span style="color:#dc322f">Object</span>.freeze(obj)
  
  <span style="color:#dc322f">Object</span>.getOwnPropertyNames(obj).map(
    <span class="hljs-function"><span class="hljs-params">prop</span> =&gt;</span> {
      <span style="color:#859900">if</span> (<span style="color:#859900">typeof</span> obj[prop] === <span style="color:#2aa198">&#x27;object&#x27;</span>) {
        freezeRecursively(obj[prop]) <span style="color:#93a1a1">// here the function calls itself</span>
      }
    }
  )
}

<span style="color:#93a1a1">// So we will make a copy and freeze that using our above function</span>
<span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">freeze</span> (<span class="hljs-params">obj</span>) </span>{
  <span style="color:#859900">const</span> out = { ...obj }
  
  freezeRecursively(out)
  
  <span style="color:#859900">return</span> out
}

<span style="color:#93a1a1">// Allowing us to use it like this</span>
<span style="color:#859900">const</span> obj = freeze({
  <span style="color:#b58900">name</span>: <span style="color:#2aa198">&#x27;Bob&#x27;</span>,
  <span style="color:#b58900">nicknames</span>: [<span style="color:#2aa198">&#x27;J.R.&#x27;</span>, <span style="color:#2aa198">&#x27;Dobbs&#x27;</span>],
  <span style="color:#b58900">favourites</span>: {
    <span style="color:#b58900">colour</span>: <span style="color:#2aa198">&#x27;blue&#x27;</span>,
    <span style="color:#b58900">number</span>: <span style="color:#2aa198">7</span>,
    <span style="color:#b58900">value</span>: <span style="color:#2aa198">&#x27;slack&#x27;</span>
  }
})

obj.name = <span style="color:#2aa198">&#x27;Tom&#x27;</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`obj.name !== &#x27;Tom&#x27;: Still &#x27;<span style="color:#cb4b16">${obj.name}</span>&#x27;.`</span>)

obj.nicknames[<span style="color:#2aa198">2</span>] = <span style="color:#2aa198">&#x27;Bobby&#x27;</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`obj.nicknames does not include &#x27;Bobby&#x27;: Still &#x27;<span style="color:#cb4b16">${obj.nicknames.join(<span style="color:#2aa198">&#x27;, &#x27;</span>)}</span>&#x27;.`</span>)

obj.favourites.colour = <span style="color:#2aa198">&#x27;red&#x27;</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`obj.favourites.colour !== &#x27;red&#x27;: Still &#x27;<span style="color:#cb4b16">${obj.favourites.colour}</span>&#x27;. Yay!`</span>)</code></pre><p>There are also several libraries for creating immutable objects (e.g., <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://github.com/immutable-js/immutable-js" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">Immutable.js</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span>) or for simply freezing objects recursively (e.g., <span class="OffsiteLink__Link-sc-1q37dqh-0 iNAoKP"><a href="https://www.npmjs.com/package/deep-freeze" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">deep-freeze</a><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="react-icon" height="1.3rem" width="1.3rem" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></span>).</p><p>This is probably overkill in production. The best way to keep things immutable in JavaScript is with best practices. Learn the techniques and the gotchas and practice them religiously. Use libraries such as <code class="language-text">deep-freeze</code> (or write your own utility function) in your <strong>tests</strong> to make sure that your code isn&#x27;t mutating variables or sharing state.</p><h3 id="is-purity-possible">Can we write a program using only pure functions?</h3><p>No. </p><p>Any function that reaches out for the DOM or uses variables that are not in its scope is impure. But how can our program work if we can&#x27;t write out to the DOM (or to logs)? We need I/O.</p><p>In &quot;pure&quot; functional programming languages, the &quot;impure&quot; I/O is isolated in its own module, as is anything else impure. This permits the bulk of the application to be kept pure. The best practice is to do the  same in your code.</p><p>The goal of FP is to compose the majority of your program from small pieces of logic that can be combined together and reused. Side effects are inevitable, but by limiting them to certain places in your application, they will be easier to manage and track.</p><p>Next, <a aria-label="More FP Concepts" href="/fp/deductive/more-fp-concepts/">More FP concepts</a>.</p><small>Errors, bugs, suggestions, questions? Contact <a href="mailto:Prateek_Sharma@bnz.co.nz">Prateek Sharma</a></small>.</article></main></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/deductive/pure-functions/";window.webpackCompilationHash="0972b82db92a85f04e03";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-ed49bf2cd0d7bcd9064c.js"],"component---src-pages-404-js":["/component---src-pages-404-js-842ab45ad5950a9ffcd2.js"],"component---src-pages-cypress-index-mdx":["/component---src-pages-cypress-index-mdx-28ae02e32e1e15f1d683.js"],"component---src-pages-deductive-index-mdx":["/component---src-pages-deductive-index-mdx-96ba6807c4954b2a6a48.js"],"component---src-pages-deductive-more-fp-concepts-index-mdx":["/component---src-pages-deductive-more-fp-concepts-index-mdx-a36009839b2c80ded503.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-9d480b18dfe85ff33554.js"],"component---src-pages-inductive-composition-index-mdx":["/component---src-pages-inductive-composition-index-mdx-9320363da751523a213b.js"],"component---src-pages-inductive-immutability-index-mdx":["/component---src-pages-inductive-immutability-index-mdx-4ec38d864e7b8df69d42.js"],"component---src-pages-deductive-pure-functions-index-mdx":["/component---src-pages-deductive-pure-functions-index-mdx-91155412594b9a143e5f.js"],"component---src-pages-inductive-index-mdx":["/component---src-pages-inductive-index-mdx-7b4683491e101e9dc23a.js"],"component---src-pages-inductive-iteration-index-mdx":["/component---src-pages-inductive-iteration-index-mdx-24242fa5846e60217a0d.js"],"component---src-pages-inductive-reusability-index-mdx":["/component---src-pages-inductive-reusability-index-mdx-a69e6007791a878326d1.js"]};/*]]>*/</script><script src="/fp/component---src-pages-deductive-pure-functions-index-mdx-91155412594b9a143e5f.js" async=""></script><script src="/fp/3-ccf680f27f8eac55059e.js" async=""></script><script src="/fp/2-1474719d1bd15294ba42.js" async=""></script><script src="/fp/1-4ea2f67fcdf6d9805daf.js" async=""></script><script src="/fp/styles-43dba2dda6c1ce97687d.js" async=""></script><script src="/fp/app-ed49bf2cd0d7bcd9064c.js" async=""></script><script src="/fp/webpack-runtime-35465749ac35021f27cf.js" async=""></script></body></html>
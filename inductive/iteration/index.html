<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/fp/styles.ad8166324bf654e1b4a9.css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{color:#1e90ff;background-color:transparent;text-decoration:none;-webkit-text-decoration-skip:objects}a:active,a:hover{color:#4169e1;outline-width:0;text-decoration:underline}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em Verdana,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:Verdana,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{margin:0 0 1.45rem;color:inherit;font-size:2.25rem}h1,h2{padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{margin:3rem 0 1.45rem;color:#b22222;font-size:1.62671rem}h2:before{content:"\2605   ";vertical-align:text-top}h3{padding:0;margin:3rem 0 1.45rem;color:#b22222;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;text-rendering:optimizeLegibility;font-size:1.38316rem;line-height:1.1}h3:before{padding-right:.5rem;content:"\261E   "}h4{font-size:1rem}h4,h5{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h5{font-size:.85028rem}h6{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:.78405rem;line-height:1.1}h6,hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}a>{line-height:1.45rem}kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{font-size:1.05rem;color:#b22222;border-radius:3px}pre code{font-size:.88rem;background:none;line-height:1.42;padding:0}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}.react-syntax-highlighter-line-number{color:grey}.code-block{margin:2rem 0}.separator{display:inline-block;padding:0 .5rem}.offsite-link{color:#2e8b57;text-decoration:underline}blockquote{background-color:#ffe4e1;padding:.5rem}a:hover>code{color:#4169e1;outline-width:0;text-decoration:underline}</style><meta name="generator" content="Gatsby 2.13.45"/><title data-react-helmet="true">Looping | How to FP</title><script data-react-helmet="true" src="https://embed.runkit.com" data-element-id="runkit"></script><style data-styled="" data-styled-version="4.3.2"></style><link rel="shortcut icon" href="/fp/icons/icon-48x48.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="manifest" href="/fp/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/fp/icons/icon-48x48.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="72x72" href="/fp/icons/icon-72x72.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="96x96" href="/fp/icons/icon-96x96.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="144x144" href="/fp/icons/icon-144x144.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="192x192" href="/fp/icons/icon-192x192.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="256x256" href="/fp/icons/icon-256x256.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="384x384" href="/fp/icons/icon-384x384.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link rel="apple-touch-icon" sizes="512x512" href="/fp/icons/icon-512x512.png?v=a97a93a5dc4dc51bb0babe472a160ed9"/><link as="script" rel="preload" href="/fp/webpack-runtime-af43978c15e821c38d8e.js"/><link as="script" rel="preload" href="/fp/app-06b5d55fd4791a5ea630.js"/><link as="script" rel="preload" href="/fp/styles-c54a44287a55b5827151.js"/><link as="script" rel="preload" href="/fp/1-fb0f1017b9d3441c806f.js"/><link as="script" rel="preload" href="/fp/2-33a1569ae39f9377b1e4.js"/><link as="script" rel="preload" href="/fp/component---src-pages-inductive-iteration-index-mdx-2b8b5ec776f6695bbcb9.js"/><link as="fetch" rel="preload" href="/fp/page-data/inductive/iteration/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header style="background:RebeccaPurple;margin-bottom:1.45rem"><div style="display:flex;align-items:center;margin:0 auto;max-width:960px;padding:1.45rem 1.0875rem"><h1 style="margin:0;display:inline-block;flex-grow:1"><a style="color:white;text-decoration:none" href="/fp/">How to FP</a></h1><div style="flex-shrink:1"><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/inductive">Bottom-up</a><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/deductive">Top-down</a><a style="color:white;text-decoration:none;text-transform:lowercase;display:inline-block;padding:0 0.5rem" href="/fp/cypress">Cypress</a></div></div></header><div style="margin:0 auto;max-width:960px;padding:0 1.0875rem 1.45rem;padding-top:0"><main><p><a href="/fp/">Home</a><span class="separator">»</span><a href="/fp/inductive/">Bottom-up</a><span class="separator">»</span>Looping</p><article><h2>Loops are so last millennium!</h2><p>If you&#x27;ve done much programming, then you&#x27;ve almost certainly used looping constructs. JavaScript offers numerous ways to loop in an <!-- -->“<!-- -->imperative<!-- -->”<!-- --> manner (meaning you tell the code how to loop rather than just giving it a list of items and letting <em>it</em> decide how to loop):</p><ul><li><code class="language-text">for</code>: repeat a code block a specified number of times</li><li><code class="language-text">for/in</code>: repeat a code block for each of the properties of an object</li><li><code class="language-text">for/of</code>: repeat  a code block for each values in an <!-- -->“<!-- -->iterable<!-- -->”<!-- --> object, such as an array</li><li><code class="language-text">while</code>: repeat a block of code while a specified condition is true</li><li><code class="language-text">do/while</code>: same as while, but always applies the code block at least once</li></ul><p>If you think these are easy to use, then you&#x27;re fooling yourself. You&#x27;ve just been using them so long that you&#x27;ve forgotten how confusing they were the first time you saw them. Consider the <code class="language-text">for</code> loop:</p><small>No variables were harmed in the making of this code.</small><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code><span style="color:#586e75">// JUST DON&#x27;T DO THIS!</span>
<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]
<span style="color:#859900">const</span> len = nums.length

<span style="color:#859900">let</span> sum = <span style="color:#2aa198">0</span> <span style="color:#586e75">// DON&#x27;T DO THIS!</span>

<span style="color:#859900">for</span> (<span style="color:#859900">let</span> i = <span style="color:#2aa198">0</span>; i &lt; len; i++) {
  sum += nums[i] <span style="color:#586e75">// Sum is a mutant!</span>
}

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The sum is <span style="color:#cb4b16">${sum}</span>`</span>)</code></pre><p>Easy, right?</p><p>Don&#x27;t be absurd. There is <em>nothing</em> easy about this. Let&#x27;s look at it a bit more carefully.</p><p>First, what on Earth could this possibly mean?</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code>(<span style="color:#859900">let</span> i = <span style="color:#2aa198">0</span>; i &lt; len; i++)</code></pre><p>OK, <code class="language-text">let i = 0;</code> is obvious enough: we&#x27;re setting a local, mutable variable to <code class="language-text">0</code>. By why <code class="language-text">i</code>? Unless you&#x27;ve been <em>taught</em> how this works, it&#x27;s not obvious that <code class="language-text">i</code> is an <em>index</em>, or that we&#x27;ll be incrementing it.</p><p>So what is this <code class="language-text">i &lt; len;</code>? A conditional, obviously, and we can see that <code class="language-text">len</code> is <code class="language-text">5</code> and <code class="language-text">i</code> is <code class="language-text">0</code>, so <code class="language-text">i &lt; len</code> is obviously <code class="language-text">true</code>, but so what? What does that do?</p><p>And then there is this mystifying <code class="language-text">i++</code>. Again, you have to be <em>taught</em> (and then memorise) that <code class="language-text">++</code> is the <strong>increment operator</strong> and that here it is applied to <code class="language-text">i</code> in the <strong>postfix</strong> position, which would normally mean that we would use the value <em>first</em>, and then increment it.</p><p>But the truth is that in the <code class="language-text">for</code> loop this increment is not applied until <em>after</em> the loop has run, and then is applied <em>before</em> the next iteration of the loop. So despite that nearly <em>everyone</em> who writes <code class="language-text">for</code> loops uses <code class="language-text">i++</code>, it really should be <code class="language-text">++i</code>—<!-- -->and that will also work (try it).</p><p>Wait! Both <code class="language-text">++i</code> <em>and</em> <code class="language-text">i++</code> <em>both</em> work? How does that make any sense at all?</p><p>Eventually, the new programmer figures out that <code class="language-text">i &lt; len;</code> is used to <em>stop</em> the loop. When this condition evaluates to <code class="language-text">false</code>, the loop stops running. This condition is checked before <em>every</em> application of the code block, so if I write <code class="language-text">i &gt; len;</code> the loop never runs at all (try it).</p><p>But if you&#x27;re familiar with this loop, then you&#x27;ll know that the most common mistake is to write <code class="language-text">i &lt;= len;</code>, which causes the loop to run an extra iteration (try it). This throws no error, but results in <code class="language-text">sum</code> being <code class="language-text">NaN</code> no matter what we pass it. Not good.</p><p>So gnarly is the <code class="language-text">for</code> construct that later versions of JavaScript have introduced <code class="language-text">for/in</code> and <code class="language-text">for/of</code>. These simplify our loop, but again, you have to remember when to use <code class="language-text">in</code> and when to use <code class="language-text">of</code>, and this still ends up mutating a variable, though at least we don&#x27;t have to worry about indexes:</p><small>The only thing necessary for the triumph of evil is for good men to do nothing.</small><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code><span style="color:#586e75">// DON&#x27;T DO THIS EITHER</span>
<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]
<span style="color:#859900">const</span> len = nums.length

<span style="color:#859900">let</span> sum = <span style="color:#2aa198">0</span> <span style="color:#586e75">// Ugh</span>

<span style="color:#859900">for</span> (num <span style="color:#859900">in</span> nums) {
  sum += num <span style="color:#586e75">// Sum is still a mutant!</span>
}

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The sum is <span style="color:#cb4b16">${sum}</span>`</span>) <span style="color:#586e75">// Oh, look what happened here!</span></code></pre><p>Ha, ha. Yeah. You thought that <code class="language-text">for/in</code> would pass you each item in the array one at a time? Seems obvious, but think again. It passes the <em>index</em>. So we&#x27;re back to indexes! Let&#x27;s try that again:</p><small>The greatest trick the Devil ever pulled was convincing the world he didn’t exist.</small><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><code><span style="color:#586e75">// DON&#x27;T DO THIS EITHER</span>
<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]
<span style="color:#859900">const</span> len = nums.length

<span style="color:#859900">let</span> sum = <span style="color:#2aa198">0</span> <span style="color:#586e75">// Ugh</span>

<span style="color:#859900">for</span> (i <span style="color:#859900">in</span> nums) {
  <span style="color:#586e75">// console.log(typeof i) // uncomment this for a surprise</span>
  sum += nums[i] <span style="color:#586e75">// i is the INDEX -- ick!</span>
}

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The sum is <span style="color:#cb4b16">${sum}</span>`</span>) <span style="color:#586e75">// Working, but definitely not intuitive</span></code></pre><p>Wondering why we ended up with <code class="language-text">0012345</code> in the broken version of <code class="language-text">for/in</code> above? That&#x27;s because for some difficult-to-grasp reason, the index is passed in as a <strong>string</strong>, so the <code class="language-text">+=</code> operator <em>concatenates</em> strings instead of adding numbers. WTF? Is this some kind of sick joke?</p><p>Here the TC-39 committee tried to make life easier for JavaScript coders and ended up making things <em>just that much <strong>less</strong> intuitive</em>.</p><p>The above constructs work, and you can <em>eventually</em> get reasonably proficient at them, but there is <strong>nothing intuitive</strong> about them and they are, truly, one of the <em>most difficult</em> things for new programmers to learn.</p><p>Surely, there is a better way! Step into the light...</p><h3 id="recusrive-functions">Functions can call themselves! No, really!</h3><p>One simple way to handle looping through a set of items, such as an array of numbers, is to process each number in turn. We can use a function call to do this, and rather than putting our function in a loop, we can just pass it the list, have it take the <!-- -->“<!-- -->head<!-- -->”<!-- --> of the list, process it, and then <em>call itself again with the <!-- -->“<!-- -->tail<!-- -->”<!-- --> of the list</em>, which is just the rest of the list.</p><p><a style="cursor:pointer"><strong>Show <!-- --> Evil Terminology</strong></a></p><p>And we can continue this process until we run out of list elements. Then we will stop and return the fully processed list, whatever that looks like.</p><p>For example, let&#x27;s take our <code class="language-text">sum</code> above. Adding a list of numbers together is the same as adding each number to the number after it and keeping a running total.</p><p>If you think about it, that&#x27;s precisely what our loop above does. It creates a running total in a <code class="language-text">sum</code> variable and initialises it to <code class="language-text">0</code>, then adds the numbers in the list to it sequentially until it exhausts the list. What&#x27;s left is our final total.</p><p>We can do the same thing by creating a function that takes our list and our running total (which defaults to <code class="language-text">0</code>), gets first item from the list, adds it to the running total, and then <em>calls itself again on the rest of the list, passing it the current subtotal:</em></p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span></code><code><span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">sum</span> (<span class="hljs-params">nums = [], total = <span style="color:#2aa198">0</span></span>) </span>{
  <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Total is <span style="color:#cb4b16">${total}</span>`</span>)
  
  <span style="color:#93a1a1">// If nums is empty, return the total to stop the loop</span>
  <span style="color:#859900">if</span> (nums.length &lt; <span style="color:#2aa198">1</span>) {
    <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Returning the total of <span style="color:#cb4b16">${total}</span>`</span>)
    
    <span style="color:#859900">return</span> total
  }

  <span style="color:#93a1a1">// Get the head (first number) and the tail (remaining numbers)</span>
  <span style="color:#93a1a1">// The tail must approach the base case above so the loop terminates</span>
  <span style="color:#859900">const</span> [head, ...tail] = nums

  <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Adding <span style="color:#cb4b16">${head}</span> to <span style="color:#cb4b16">${total}</span>`</span>)
  
  <span style="color:#93a1a1">// The function calls itself with the remaining numbers and the new total</span>
  <span style="color:#859900">return</span> sum(tail, total + head) 
}

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`↪ The sum of [] is <span style="color:#cb4b16">${sum([])}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`↪ The sum of [5] is <span style="color:#cb4b16">${sum([<span style="color:#2aa198">5</span>])}</span>`</span>, <span style="color:#2aa198">&#x27;&#x27;</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`↪ The sum of [5, 7, 9] is <span style="color:#cb4b16">${sum([<span style="color:#2aa198">5</span>, <span style="color:#2aa198">7</span>, <span style="color:#2aa198">9</span>])}</span>`</span>)</code></pre><p>That works. Of course, we could have written the function more simply this way:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span></code><code><span style="color:#93a1a1">// Not the best way to go about this, usually</span>
<span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">sum</span> (<span class="hljs-params">nums = []</span>) </span>{
  <span style="color:#859900">if</span> (nums.length &lt; <span style="color:#2aa198">1</span>) { <span style="color:#859900">return</span> <span style="color:#2aa198">0</span> }

  <span style="color:#859900">const</span> [head, ...tail] = nums

  <span style="color:#859900">return</span> head + sum(tail)
}</code></pre><p>So why not do it that way? Well, let&#x27;s see...</p><p>A minor benefit of having the running total as a parameter to the function is that we can set it to something other than zero. For example, we could add a list of numbers to <code class="language-text">100</code> instead of zero<!-- -->—<code class="language-text">sum([1, 4, 9, 16], 100)</code>—<!-- -->returning <code class="language-text">130</code> instead of <code class="language-text">30</code>.</p><p>But a <strong>more important reason</strong> is found in line <!-- -->#<!-- -->7: <code class="language-text">return head + sum(tail)</code>. By choosing to do it this way, we have to push our first function call <strong>onto the stack</strong> (in memory) and <em>wait for the second call to return</em> before we can return from the first. Then we have to push the second call onto the stack and wait for the third, etc.</p><p>If the list is 1000 items long, then we have to <strong>hold 999 calls on the stack</strong> waiting for that last call to return. That takes a lot of memory. But we can&#x27;t do the addition<!-- -->—<code class="language-text">head + sum(tail)</code>—<!-- -->until we know what <code class="language-text">sum(tail)</code> is, right? So we&#x27;re stuck.</p><p>But if we do it like this:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code><span style="color:#859900">return</span> sum(tail, total + head)</code></pre><p>Then we <em>know</em> what <code class="language-text">tail</code> is and we <em>know</em> what <code class="language-text">total + head</code> is <em>at the time of the function call</em>. So instead of pushing our function onto the stack and waiting for the second iteration to return, we can simply <strong>replace</strong> the first function call with the second, right?</p><p>Essentially, writing our function-that-calls-itself in this manner makes it work <em>exactly like a loop</em>. So it&#x27;s as fast and uses as little memory, effectively. Now we get the benefits of the speed and efficiency of a loop without all the unintuitive looping constructs: the best of both worlds.</p><p><a style="cursor:pointer"><strong>Show <!-- --> Evil Terminology</strong></a></p><p>Looked at another way, the second example above<!-- -->—<code class="language-text">return head + sum(tail)</code>—<!-- -->runs <em>nested</em>:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code>sum([<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]) === <span style="color:#2aa198">1</span> + (
  <span style="color:#2aa198">2</span> + (
    <span style="color:#2aa198">3</span> + (
      <span style="color:#2aa198">4</span> + (
        <span style="color:#2aa198">5</span> + (
          <span style="color:#2aa198">0</span>
        )
      )
    )
  )
)</code></pre><p>Which means it actually adds the list from last to first: <code class="language-text">0 + 5 + 4 + 3 + 2 + 1</code>. This is because it has to unwind the stack, returning from each inner call before it can return from the outer call that wraps it.</p><p>The first example above<!-- -->—<code class="language-text">return sum(tail, total + head)</code>—<!-- -->just makes successive calls to the same function:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span></code><code>sum([<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]) <span style="color:#93a1a1">// replaced by</span>
sum([<span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], <span style="color:#2aa198">1</span>) <span style="color:#93a1a1">// replaced by</span>
sum([<span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], <span style="color:#2aa198">3</span>)    <span style="color:#93a1a1">// replaced by</span>
sum([<span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], <span style="color:#2aa198">6</span>)       <span style="color:#93a1a1">// replaced by</span>
sum([<span style="color:#2aa198">5</span>], <span style="color:#2aa198">10</span>)         <span style="color:#93a1a1">// returns 15</span></code></pre><p>So this version adds in the order you&#x27;d expect: <code class="language-text">0 + 1 + 2 + 3 + 4 + 5</code>. Each call completes by making the next call, so the calls can replace each other on the stack. There&#x27;s nothing to unwind. When the last call returns, that&#x27;s our expected value.</p><p><strong>Each of the three lines of our function block has a specific purpose</strong>.</p><p>For a function calling itself to work, we must observe two rules:</p><ol><li>We must have a <a href="https://en.wikipedia.org/wiki/Recursion#base_case" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">base case</a> where the function returns something <em>without</em> calling itself.</li><li>Each time we call the function from within the function we must call it with <em>different</em> arguments, <em>and the arguments must approach the base case!</em></li></ol><p>Let&#x27;s look at the lines one at a time:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">2
</span></code><code><span style="color:#859900">if</span> (nums.length &lt; <span style="color:#2aa198">1</span>) { <span style="color:#859900">return</span> total }</code></pre><p>This is our <!-- -->“<!-- -->base case<!-- -->”<!-- -->. It tells our function when to <strong>stop</strong> calling itself. When there is nothing left in the array that we&#x27;re passing to our function<!-- -->—<!-- -->i.e., the argument is the empty list<!-- -->—<!-- -->then we just return our running total. That stops the loop. It&#x27;s essentially a <a href="https://en.wikipedia.org/wiki/Guard_(computer_science)" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">guard</a>.</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">4
</span></code><code><span style="color:#859900">const</span> [head, ...tail] = nums</code></pre><p>We are always going to operate on one element of the array at a time, so we&#x27;ll need to lop the head off the array. When we next call the function, it will be on the remaining elements<!-- -->—<!-- -->the <strong>tail</strong>—<!-- -->so we need to hang on to those as well.</p><p>Recall that arrays are passed by <!-- -->“<!-- -->reference<!-- -->”<!-- -->, which means they are not copied in but merely pointed to. So we&#x27;ll want to copy the tail and use the copy rather than mutating the original list. Destructuring and the <code class="language-text">...</code> (rest) syntax achieves that for us.</p><p>When we do:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code><span style="color:#859900">const</span> [head, ...tail] = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]</code></pre><p>Then:</p><ul><li>variable <code class="language-text">head</code> has value <code class="language-text">1</code></li><li>variable <code class="language-text">tail</code> has value <code class="language-text">[2, 3, 4, 5]</code>.</li></ul><p>And these are new values in new variables. Our initial array remains unchanged.</p><p>Finally, we do the work in our third line of code:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">6
</span></code><code><span style="color:#859900">return</span> sum(tail, total + head)</code></pre><p>First time through, our <code class="language-text">total</code> defaulted to <code class="language-text">0</code>, so given the <code class="language-text">head</code> and <code class="language-text">tail</code> above, this becomes:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code><span style="color:#859900">return</span> sum([<span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], <span style="color:#2aa198">0</span> + <span style="color:#2aa198">1</span>)</code></pre><p>Watch it in action:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span></code><code><span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">sum</span> (<span class="hljs-params">nums = [], total = <span style="color:#2aa198">0</span></span>) </span>{
  <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`total is <span style="color:#cb4b16">${total}</span>`</span>)

  <span style="color:#859900">if</span> (nums.length &lt; <span style="color:#2aa198">1</span>) {
    <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Returning the total of <span style="color:#cb4b16">${total}</span>`</span>)
    <span style="color:#859900">return</span> total
  }

  <span style="color:#859900">const</span> [head, ...tail] = nums

  <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`head is <span style="color:#cb4b16">${head}</span> and tail is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(tail)}</span>`</span>)

  <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Calling sum(<span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(tail)}</span>, <span style="color:#cb4b16">${total + head}</span>)`</span>, <span style="color:#2aa198">&#x27;&#x27;</span>)

  <span style="color:#859900">return</span> sum(tail, total + head)
}

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The sum of [1, 2, 3, 4, 5] is <span style="color:#cb4b16">${sum([<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>])}</span>`</span>)</code></pre><p>As you can see, the <code class="language-text">total</code> accumulates the value of our running total. But we could <!-- -->“<!-- -->accumulate<!-- -->”<!-- --> anything, right?</p><p>Consider an example where we have an array of numbers and we want to convert it to an array of the <em>squares</em> of those numbers. In other words, we want to loop through the array squaring each element and returning a <em>new</em> array of the squares. Easy!</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span></code><code><span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">mapSquares</span> (<span class="hljs-params">nums = [], accumulator = []</span>) </span>{
  <span style="color:#93a1a1">// When nums is empty, return the accumulated squares</span>
  <span style="color:#859900">if</span> (nums.length &lt; <span style="color:#2aa198">1</span>) { <span style="color:#859900">return</span> accumulator }

  <span style="color:#93a1a1">// Get the head and tail</span>
  <span style="color:#859900">const</span> [head, ...tail] = nums
  
  <span style="color:#93a1a1">// Append the square of the head and call again with the tail</span>
  <span style="color:#859900">return</span> mapSquares(tail, [...accumulator, head * head])
}

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`[] mapped to its squares is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(mapSquares([]))}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`[5] mapped to its squares is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(mapSquares([<span style="color:#2aa198">5</span>]))}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`[1,2,3] mapped to its squares is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(mapSquares([<span style="color:#2aa198">1</span>,<span style="color:#2aa198">2</span>,<span style="color:#2aa198">3</span>]))}</span>`</span>)</code></pre><p>Passing an accumulator makes it possible to do almost <em>anything</em> a loop can do by simply writing a function that calls itself.</p><p>Writing functions that call themselves is easy and fun, but functional JavaScript is all about <strong>reusability</strong>. It doesn&#x27;t take writing too many functions like the ones above to start to see certain patterns emerging.</p><p>When we wrote our <code class="language-text">sum</code> function, we took a list of items and reduced it down to a single item. We can write a function called <code class="language-text">reduce</code> that takes a list of items and reduces it to a single output. We just need three things:</p><ol><li>The code block that will be executed each time the function runs</li><li>The starting value of our accumulator (<code class="language-text">0</code> and <code class="language-text">[]</code> respectively above)</li><li>The list on which we&#x27;ll operate (<code class="language-text">[1, 2, 3, 4, 5]</code> above)</li></ol><p><a style="cursor:pointer"><strong>Show <!-- --> Evil Terminology</strong></a></p><p>But we want our <code class="language-text">reduce</code> function to be generic, so we&#x27;ll want to pass it the code block. How do we pass code blocks around in functional JavaScript? <strong>Functions</strong>, of course. So our <code class="language-text">reduce</code> function will take:</p><ol><li>A <strong>function</strong> to be applied to the accumulator and each item of the list in turn</li><li>The starting accumulator</li><li>The list of values</li></ol><p>And we can see that the function we provide as our first argument must:</p><ul><li>Take as parameters:<ol><li>The accumulator (running total) as an argument</li><li>The head of the list as an argument</li></ol></li><li>Return a <em>new</em> accumulator value, which will be used on the next call (e.g., <code class="language-text">total + head</code>)</li></ul><p>For example, if we want to sum up a list of numbers, the function we pass to <code class="language-text">reduce</code> might look like this:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code>(accumulator, value) =&gt; accumulator + value</code></pre><p>When we <code class="language-text">map</code> our list to the squares of the numbers, things get even simpler. We know we&#x27;re just mapping from one array to another of equal size, right? So our starting accumulator is always <code class="language-text">[]</code>. We don&#x27;t really need to pass it to our function as it never changes. Thus, we can create a <code class="language-text">map</code> function that:</p><ul><li>Takes as parameters:<ol><li>A function to apply to each item in a list</li><li>A list of items to apply it to</li></ol></li><li>Returns a <em>new</em> list of the results from passing the originals list&#x27;s items through the function supplied</li></ul><p>Modern JavaScript provides functions such as <code class="language-text">map</code> and <code class="language-text">reduce</code> (and many more) already implemented for you. You just need to supply the right arguments.</p><p>The built-in versions work in a very OO way: You call the <code class="language-text">map</code> <em>method</em> on the array (list) you want to map, pass it the function you want to apply to each item in turn, and it returns a <em>new</em> array of the results.</p><p>Similarly, you call the <code class="language-text">reduce</code> method on the array you want to reduce in some way, pass it the function (that takes the accumulator and each item in turn and returns a new accumulator value), and pass it the starting accumulator. It returns the final accumulator value, whatever that is.</p><p><strong>But there is an even better way to do this functionally by pulling the methods out into their own functions, and passing the lists they operate on as an argument, rather than as the caller of a method.</strong></p><p>For this purpose, there are numerous libraries out there, the most popular of which is <a href="https://github.com/lodash/lodash/wiki/FP-Guide" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">Lodash</a>. (But only use the new <code class="language-text">lodash/fp</code> module! The original module is broken.).</p><p>The <a href="https://ramdajs.com/" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">Ramda</a> library is much better, having been built (mostly) correctly from the getgo. The best, however, is <a href="https://sanctuary.js.org/" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">Sanctuary</a>, which is <a href="https://sanctuary.js.org/#overview" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">scrupulously correct</a>, but this also makes it difficult to use in production. There is no slack at all. You must be <em>meticulous</em>.</p><p><a style="cursor:pointer"><strong>Show <!-- --> Evil Terminology</strong></a></p><p>For most cases, Ramda is your best bet unless you are already committed to something else. Below we examine the most common functions/methods available and show how they can be used both in vanilla JavaScript and in Ramda.</p><p>(Note: While there is a Node framework called <!-- -->“<!-- -->VanillaJS<!-- -->”<!-- --> with <strong>no apparent sense of irony</strong>, what we mean here by vanilla JavaScript is JavaScript used <em>without</em> adding libraries or frameworks<!-- -->—<!-- -->using only the built-in functionality.)</p><p>(P.S. the <a href="https://ramdajs.com/repl/" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">Ramda REPL</a> is awesome. You can play with all this stuff in there, and all the Ramda functions are automagically imported. And you can <a href="https://ramdajs.com/repl/?v=0.26.1#?const%20nums%20%3D%20%5B1%2C%202%2C%203%2C%204%2C%205%5D%0A%0A%2F%2F%20Vanilla%20JS%3A%20map%20as%20a%20method%20on%20array%0Aconst%20vjsSquares%20%3D%20nums.map%28x%20%3D%3E%20x%20%2A%20x%29%0A%0A%2F%2F%20The%20purely%20functional%20way%20with%20Ramda%3A%20pass%20the%20array%0Aconst%20ramdaSquares%20%3D%20map%28x%20%3D%3E%20x%20%2A%20x%2C%20nums%29%0A%0Aconsole.log%28%60The%20squares%20by%20Array.map%3A%20%24%7BJSON.stringify%28vjsSquares%29%7D%60%29%0Aconsole.log%28%60The%20squares%20by%20Ramda%27s%20map%3A%20%24%7BJSON.stringify%28ramdaSquares%29%7D%60%29%0A" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">bookmark your examples</a>.)</p><h3 id="map">Use <code>map</code> to modify each value in a list</h3><p>The <code class="language-text">map</code> method (or function) does exactly what our <code class="language-text">map</code> method above does, except abstractly: we can supply any function we like and it will be applied to each item in the list in turn, returning a new list of the <!-- -->“<!-- -->mapped<!-- -->”<!-- --> items.</p><p>In other words, to get it to <em>square</em> each  of the numbers in our array, we need to pass it a squaring function: <code class="language-text">x =&gt; x * x</code> will work:</p><small>Look, ma! No loops!</small><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span></code><code><span style="color:#93a1a1">// Sadly, runkit does not support import yet</span>
<span style="color:#859900">const</span> { map } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>) <span style="color:#93a1a1">// The old-fashioned way</span>

<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]

<span style="color:#93a1a1">// Vanilla JS: map as a method on array</span>
<span style="color:#859900">const</span> vjsSquares = nums.map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * x)

<span style="color:#93a1a1">// The purely functional way with Ramda: pass the array</span>
<span style="color:#859900">const</span> ramdaSquares = map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * x, nums)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The squares by Array.map: <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(vjsSquares)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The squares by Ramda&#x27;s map: <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(ramdaSquares)}</span>`</span>)</code></pre><p>Both the built-in <code class="language-text">map</code> method and Ramda&#x27;s <code class="language-text">map</code> function work the same, so why use the latter? We&#x27;ll see advantages when we get to pipelining functions below.</p><p>If you&#x27;re working on a small project and you can do it entirely in vanilla JS without importing a library such as Ramda, then maybe you should just use vanilla JS. But on most larger projects, you&#x27;re going to need a library such as Ramda for many things, so you might as well use Ramda functions over the built in ones.</p><p>But more on that below. Let&#x27;s take another example of <code class="language-text">map</code> before we move on:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><code><span style="color:#859900">const</span> { map, toUpper } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> colours = [<span style="color:#2aa198">&#x27;red&#x27;</span>, <span style="color:#2aa198">&#x27;green&#x27;</span>, <span style="color:#2aa198">&#x27;blue&#x27;</span>]

<span style="color:#93a1a1">// Vanilla JS</span>
<span style="color:#859900">const</span> vjsUppers = colours.map(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.toUpperCase())

<span style="color:#93a1a1">// The purely functional way with Ramda: pass the array</span>
<span style="color:#859900">const</span> ramdaUppers = map(toUpper, colours)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The uppercased colours by Array.map: [<span style="color:#cb4b16">${vjsUppers}</span>]`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The uppercased colours by Ramda&#x27;s map: [<span style="color:#cb4b16">${ramdaUppers}</span>]`</span>)</code></pre><p>OK, one more:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span></code><code><span style="color:#859900">const</span> { map, toUpper } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> colours = [<span style="color:#2aa198">&#x27;red&#x27;</span>, <span style="color:#2aa198">&#x27;green&#x27;</span>, <span style="color:#2aa198">&#x27;blue&#x27;</span>]

<span style="color:#93a1a1">// Uppercase e&#x27;s if length &gt; 4</span>
<span style="color:#859900">const</span> longWordBigE = <span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.length &gt; <span style="color:#2aa198">4</span> ? s.replace(<span style="color:#2aa198">/e/g</span>, <span style="color:#2aa198">&#x27;E&#x27;</span>) : s

<span style="color:#93a1a1">// Vanilla JS</span>
<span style="color:#859900">const</span> vjsUppers = colours.map(longWordBigE)

<span style="color:#93a1a1">// The purely functional way with Ramda: pass the array</span>
<span style="color:#859900">const</span> ramdaUppers = map(longWordBigE, colours)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The uppercased colours by Array.map: [<span style="color:#cb4b16">${vjsUppers}</span>]`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The uppercased colours by Ramda&#x27;s map: [<span style="color:#cb4b16">${ramdaUppers}</span>]`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`Remember, the original array is unchanged: [<span style="color:#cb4b16">${colours}</span>]`</span>)</code></pre><p>So we can use conditionals or anything we like really, modifying some, all, or none.</p><h3 id="reduce">Use <code>reduce</code> to combine elements in a list</h3><p>We&#x27;ve already talked about <code class="language-text">reduce</code> above. It takes a function, a starting accumulator, and the list to process. It returns the final accumulator.</p><p>Above we used <code class="language-text">reduce</code> first to add a list of numbers together to get a sum. Let&#x27;s do it again using the Array&#x27;s <code class="language-text">reduce</code> method and Ramda&#x27;s <code class="language-text">reduce</code> function:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><code><span style="color:#859900">const</span> { add, reduce } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>) <span style="color:#93a1a1">// add(1, 2) returns 3</span>

<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]

<span style="color:#93a1a1">// Vanilla JS</span>
<span style="color:#859900">const</span> vjsSum = nums.reduce(add, <span style="color:#2aa198">0</span>)

<span style="color:#93a1a1">// Ramda</span>
<span style="color:#859900">const</span> ramdaSum = reduce(add, <span style="color:#2aa198">0</span>, nums)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The Array.reduce sum is <span style="color:#cb4b16">${vjsSum}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The Ramda reduce sum is <span style="color:#cb4b16">${ramdaSum}</span>`</span>)</code></pre><p>We&#x27;ll see <code class="language-text">reduce</code> again and again in the examples below. You can make any of these other functions from <code class="language-text">reduce</code>.</p><h3 id="reduce-again">More fun with <code>reduce</code></h3><p>Suppose we want to loop through an object and uppercase every string value. Can we do that with <code class="language-text">reduce</code>? Easy peasy:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span></code><code><span style="color:#859900">const</span> { keys, reduce, toUpper } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> bob = {
  <span style="color:#b58900">name</span>: <span style="color:#2aa198">&#x27;Bob&#x27;</span>,
  <span style="color:#b58900">age</span>: <span style="color:#2aa198">&#x27;indeterminate&#x27;</span>,
  <span style="color:#b58900">iq</span>: <span style="color:#2aa198">180</span>,
  <span style="color:#b58900">speaksFrench</span>: <span style="color:#2aa198">true</span>
}

<span style="color:#859900">const</span> upcaseStrings = <span class="hljs-function">(<span class="hljs-params">acc, key</span>) =&gt;</span> {
  <span style="color:#859900">const</span> value = bob[key]
  
  <span style="color:#859900">return</span> {
    ...acc,                          <span style="color:#93a1a1">// copy current accumulator</span>
    [key]: <span style="color:#859900">typeof</span> value === <span style="color:#2aa198">&#x27;string&#x27;</span> <span style="color:#93a1a1">// add this key-value pair</span>
      ? toUpper(value)               <span style="color:#93a1a1">// uppercase if string</span>
      : value                        <span style="color:#93a1a1">// otherwise, pass unchanged</span>
  }
}

<span style="color:#859900">const</span> vjsUpcase = <span style="color:#dc322f">Object</span>.keys(bob).reduce(upcaseStrings, {})

<span style="color:#859900">const</span> ramdaUpcase = reduce(upcaseStrings, {}, keys(bob))

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Vanilla JS result:&#x27;</span>, vjsUpcase)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Ramda result:&#x27;</span>, ramdaUpcase)</code></pre><p>The above example isn&#x27;t the greatest. We reach outside the <code class="language-text">reduce</code> function to access our <code class="language-text">bob</code> object. We should really wrap the function and make a version that takes an object:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span></code><code><span style="color:#859900">const</span> { keys, reduce, toUpper } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#93a1a1">// Takes same three parameters as reduce, but last is an object</span>
<span style="color:#859900">const</span> reduceOverObject = <span class="hljs-function">(<span class="hljs-params">f, acc, obj</span>) =&gt;</span> reduce(
  <span class="hljs-function">(<span class="hljs-params">a, key</span>) =&gt;</span> f(a, key, obj[key]), <span style="color:#93a1a1">// function passed gets value as third parameter</span>
  acc,
  keys(obj)
)

<span style="color:#859900">const</span> bob = {
  <span style="color:#b58900">name</span>: <span style="color:#2aa198">&#x27;Bob&#x27;</span>,
  <span style="color:#b58900">age</span>: <span style="color:#2aa198">&#x27;indeterminate&#x27;</span>,
  <span style="color:#b58900">iq</span>: <span style="color:#2aa198">180</span>,
  <span style="color:#b58900">speaksFrench</span>: <span style="color:#2aa198">true</span>
}

<span style="color:#93a1a1">// Now takes the value as a third parameter</span>
<span style="color:#859900">const</span> upcaseStrings = <span class="hljs-function">(<span class="hljs-params">acc, key, value</span>) =&gt;</span> ({
  ...acc,                          <span style="color:#93a1a1">// copy current accumulator</span>
  [key]: <span style="color:#859900">typeof</span> value === <span style="color:#2aa198">&#x27;string&#x27;</span> <span style="color:#93a1a1">// add this key-value pair</span>
    ? toUpper(value)               <span style="color:#93a1a1">// uppercase if string</span>
    : value                        <span style="color:#93a1a1">// otherwise, pass unchanged</span>
})

<span style="color:#859900">const</span> upcased = reduceOverObject(upcaseStrings, {}, bob)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Ramda result:&#x27;</span>, upcased)</code></pre><p>Now we&#x27;re beginning to see the advantage of Ramda. Our new <code class="language-text">reduceOverObject</code> function takes a function and passes it <em>three</em> arguments: the current accumulator, the current key, and the current value. And we pass it the object rather than just the array of keys.</p><p>Sweet. Everything is neatly contained in my <code class="language-text">reduceOverObject</code> function. Consider how clean and readable this line is:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">25
</span></code><code><span style="color:#859900">const</span> upcased = reduceOverObject(upcaseStrings, {}, bob)</code></pre><p>Can we duplicate the <code class="language-text">map</code> function with <code class="language-text">reduce</code>? Easy!</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span></code><code><span style="color:#859900">const</span> { map, reduce } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#93a1a1">// As with map, we take a function and an array to apply it to</span>
<span style="color:#859900">const</span> reduceMap = <span class="hljs-function">(<span class="hljs-params">f, arr</span>) =&gt;</span> reduce(
  <span class="hljs-function">(<span class="hljs-params">acc, v</span>) =&gt;</span> ([...acc, f(v)]),  <span style="color:#93a1a1">// Apply the function to each item in turn</span>
  [],                            <span style="color:#93a1a1">// Start with an empty new array</span>
  arr                            <span style="color:#93a1a1">// Loop through the original array</span>
)

<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]

<span style="color:#859900">const</span> oldSquares = map(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * x, nums)
<span style="color:#859900">const</span> squares = reduceMap(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * x, nums) <span style="color:#93a1a1">// Works the same way</span>

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The squares using map:&#x27;</span>, oldSquares)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The squares using our reduceMap:&#x27;</span>, squares)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;And nums remains unchanged:&#x27;</span>, nums)</code></pre><p>No need to write this function, of course! Just use <code class="language-text">map</code>. But as you&#x27;ll see here, <code class="language-text">reduce</code> is the mother of all these functions. We can recreate virtually all of them with <code class="language-text">reduce</code>, and we can build even more powerful functions on top of <code class="language-text">reduce</code>. And <code class="language-text">reduce</code> is easily created itself by writing a function that calls itself.</p><p>Functional code, especially with reuse, is <em>simpler</em> than the OO equivalent. That means fewer lines, drier code, more reusability, and more power. Free your methods! Use functions instead, and treat Objects as types to be passed around, rather than the output of <code class="language-text">new &lt;ClassName&gt;()</code>.</p><h3 id="filter">Use <code>filter</code> to choose particular values from a list</h3><p>The <code class="language-text">filter</code> method or function takes a function that returns a Boolean value and a list of items. It applies the function to each item in the list in turn. If the value returned is <code class="language-text">true</code>, then that item is included in the output list. If it is <code class="language-text">false</code>, then it isn&#x27;t included. Remember, the output is a copy.</p><p>Suppose we had a list of names and we wanted to find all the names at least 5 letters long. We could do that easily with the <code class="language-text">filter</code> method:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span></code><code><span style="color:#859900">const</span> { filter } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> names = [
  <span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Carol&#x27;</span>, <span style="color:#2aa198">&#x27;Ted&#x27;</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, <span style="color:#2aa198">&#x27;Samson&#x27;</span>, <span style="color:#2aa198">&#x27;Delilah&#x27;</span>
]

<span style="color:#93a1a1">// Vanilla JS:</span>
<span style="color:#859900">const</span> vjsLongNames = names.filter(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.length &gt; <span style="color:#2aa198">4</span>)

<span style="color:#93a1a1">// Ramda:</span>
<span style="color:#859900">const</span> ramdaLongNames = filter(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s.length &gt; <span style="color:#2aa198">4</span>, names)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The longer names by Array.filter:&#x27;</span>, vjsLongNames)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The longer names by Ramda\&#x27;s filter:&#x27;</span>, ramdaLongNames)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The original list is unchanged:&#x27;</span>, names)</code></pre><p>Who needs loops? Not us.</p><h3 id="adjust">Use <code>adjust</code> to update a single value in a list</h3><p>What if we want to update an element at a specified index in an array. The mutable way would be simple: <code class="language-text">names[1] = &#x27;Carole&#x27;</code>.</p><p>But that mutates our original list. What we want is a new copy of the list with just that element updated. Ramda provides an <code class="language-text">adjust</code> function to do just this, but we could also write our own version in vanilla JS:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span></code><code><span style="color:#859900">const</span> { adjust } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> names = [
  <span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Carole&#x27;</span>, <span style="color:#2aa198">&#x27;Ted&#x27;</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, <span style="color:#2aa198">&#x27;Samson&#x27;</span>, <span style="color:#2aa198">&#x27;Delilah&#x27;</span>
]

<span style="color:#93a1a1">// Vanilla JS: let&#x27;s create our own function</span>
<span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">vadjust</span> (<span class="hljs-params">index, f, arr</span>) </span>{
  <span style="color:#859900">return</span> [
    ...arr.slice(<span style="color:#2aa198">0</span>, index),
    f(arr[index]),
    ...arr.slice(index + <span style="color:#2aa198">1</span>)
  ]
}

<span style="color:#859900">const</span> vjsUpdatedNames = vadjust(<span style="color:#2aa198">1</span>, () =&gt; <span style="color:#2aa198">&#x27;Carol&#x27;</span>, names)

<span style="color:#93a1a1">// Ramda&#x27;s adjust</span>
<span style="color:#859900">const</span> ramdaUpdatedNames = adjust(<span style="color:#2aa198">1</span>, () =&gt; <span style="color:#2aa198">&#x27;Carol&#x27;</span>, names)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Update Carole to Carol by vanilla JS:&#x27;</span>, vjsUpdatedNames)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Update Carole to Carol by Ramda\&#x27;s adjust:&#x27;</span>, ramdaUpdatedNames)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The original list is unchanged:&#x27;</span>, names)</code></pre><p>Now you&#x27;re probably wondering why we might add the Ramda dependency with its load time if we can write our own functions so easily.</p><p>Well, it depends on what we need. If our needs are as simple as above, then to write our own is probably the way to go. (But be advised that we are then responsible for testing and maintaining our utility functions as well.)</p><p>But the Ramda <a href="https://ramdajs.com/docs/#adjust" target="_blank" rel="noopener noreferrer" aria-label="Offsite link: opens in new window" class="offsite-link" title="Offsite link: opens in a new window">adjust</a> function can do much more than our version. For one thing, we can apply the arguments <em>one a time</em>, and with each, get back a function that remembers the arguments already supplied and takes the remaining parameters:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span></code><code><span style="color:#859900">const</span> { adjust, toUpper } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> upcaseThirdElement = adjust(<span style="color:#2aa198">2</span>, toUpper)

<span style="color:#859900">const</span> names = [
  <span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Carole&#x27;</span>, <span style="color:#2aa198">&#x27;Ted&#x27;</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, <span style="color:#2aa198">&#x27;Samson&#x27;</span>, <span style="color:#2aa198">&#x27;Delilah&#x27;</span>
]

<span style="color:#859900">const</span> colours = [
  <span style="color:#2aa198">&#x27;red&#x27;</span>, <span style="color:#2aa198">&#x27;yellow&#x27;</span>, <span style="color:#2aa198">&#x27;green&#x27;</span>, <span style="color:#2aa198">&#x27;cyan&#x27;</span>, <span style="color:#2aa198">&#x27;blue&#x27;</span>, <span style="color:#2aa198">&#x27;magenta&#x27;</span>
]

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Uppercase the third name:&#x27;</span>, upcaseThirdElement(names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Uppercase the third colour:&#x27;</span>, upcaseThirdElement(colours))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;The original lists are unchanged:&#x27;</span>, names, colours)</code></pre><p>Ramda&#x27;s <code class="language-text">adjust</code> can also handle negative indexes (working back from the end of the list). Our <code class="language-text">vadjust</code> fails on negative indexes. And if we pass an index that&#x27;s out of range, then Ramda&#x27;s <code class="language-text">adjust</code> returns our list unchanged so we can continue processing. Again, our version fails. We could fix our version:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span><span class="react-syntax-highlighter-line-number">34
</span><span class="react-syntax-highlighter-line-number">35
</span><span class="react-syntax-highlighter-line-number">36
</span><span class="react-syntax-highlighter-line-number">37
</span><span class="react-syntax-highlighter-line-number">38
</span><span class="react-syntax-highlighter-line-number">39
</span><span class="react-syntax-highlighter-line-number">40
</span><span class="react-syntax-highlighter-line-number">41
</span><span class="react-syntax-highlighter-line-number">42
</span><span class="react-syntax-highlighter-line-number">43
</span><span class="react-syntax-highlighter-line-number">44
</span><span class="react-syntax-highlighter-line-number">45
</span><span class="react-syntax-highlighter-line-number">46
</span><span class="react-syntax-highlighter-line-number">47
</span><span class="react-syntax-highlighter-line-number">48
</span><span class="react-syntax-highlighter-line-number">49
</span><span class="react-syntax-highlighter-line-number">50
</span></code><code><span class="hljs-function"><span style="color:#859900">function</span> <span style="color:#268bd2">adjust</span> (<span class="hljs-params">...args</span>) </span>{
  <span style="color:#93a1a1">// If not all arguments supplied...</span>
  <span style="color:#859900">if</span> (args.length &lt; <span style="color:#2aa198">3</span>) {
    <span style="color:#93a1a1">// Return a function that remembers the current arguments,</span>
    <span style="color:#93a1a1">// takes more arguments, and calls adjust again with both</span>
    <span style="color:#859900">return</span> <span class="hljs-function">(<span class="hljs-params">...newArgs</span>) =&gt;</span> adjust(...args, ...newArgs)
  }
  
  <span style="color:#93a1a1">// Once we have all three arguments, destructure them</span>
  <span style="color:#859900">const</span> [index, f, arr] = args
  
  <span style="color:#93a1a1">// If the index is out of bounds, return the array unchanged</span>
  <span style="color:#859900">if</span> (index &gt;= arr.length || index &lt; -arr.length ) {
    <span style="color:#859900">return</span> arr
  }
  
  <span style="color:#859900">return</span> [
    ...arr.slice(<span style="color:#2aa198">0</span>, index),     <span style="color:#93a1a1">// Get the elements before the index</span>
    f(...arr.slice(index)),     <span style="color:#93a1a1">// Apply the function to the element at index</span>
    ...(
      index === <span style="color:#2aa198">-1</span>
        ? []                    <span style="color:#93a1a1">// Handle the special case of -1</span>
        : arr.slice(index + <span style="color:#2aa198">1</span>)) <span style="color:#93a1a1">// Get the remaining elements, if any</span>
  ]
}

<span style="color:#859900">const</span> data = [<span style="color:#2aa198">0</span>, <span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>]

<span style="color:#93a1a1">// We can apply arguments in any increments</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(2)(String)(data)&#x27;</span>, adjust(<span style="color:#2aa198">2</span>)(<span style="color:#dc322f">String</span>)(data))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(2, String)(data)&#x27;</span>, adjust(<span style="color:#2aa198">2</span>, <span style="color:#dc322f">String</span>)(data))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(2, String, data)&#x27;</span>, adjust(<span style="color:#2aa198">2</span>, <span style="color:#dc322f">String</span>, data))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(2)(String, data)&#x27;</span>, adjust(<span style="color:#2aa198">2</span>)(<span style="color:#dc322f">String</span>, data))

<span style="color:#93a1a1">// Calling with no arguments returns the function unchanged</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust()()(2)()(String)()()(data)&#x27;</span>, adjust()()(<span style="color:#2aa198">2</span>)()(<span style="color:#dc322f">String</span>)()()(data))

<span style="color:#93a1a1">// It works at different indexes</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(3, String, data)&#x27;</span>, adjust(<span style="color:#2aa198">3</span>, <span style="color:#dc322f">String</span>, data))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(0, String, data)&#x27;</span>, adjust(<span style="color:#2aa198">0</span>, <span style="color:#dc322f">String</span>, data))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(4, String, data)&#x27;</span>, adjust(<span style="color:#2aa198">4</span>, <span style="color:#dc322f">String</span>, data))

<span style="color:#93a1a1">// It works with negative indexes</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(-1, String, data)&#x27;</span>, adjust(<span style="color:#2aa198">-1</span>, <span style="color:#dc322f">String</span>, data))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;adjust(-4, String, data)&#x27;</span>, adjust(<span style="color:#2aa198">-4</span>, <span style="color:#dc322f">String</span>, data))

<span style="color:#859900">const</span> adjustLast = adjust(<span style="color:#2aa198">-1</span>)
<span style="color:#859900">const</span> addTenToLast = adjustLast(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x + <span style="color:#2aa198">10</span>)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;addTenToLast(data)&#x27;</span>, addTenToLast(data))</code></pre><p>But now it&#x27;s on us to test it and keep it current. Much easier to use a library such as Ramda or Lodash/FP!</p><h3 id="append-insert-prepend">Use <code>append</code>, <code>insert</code>, or <code>prepend</code> to add an item to a list</h3><p>These functions do exactly what you&#x27;d expect. Should we do it by hand, or use a library? For <code class="language-text">append</code> and <code class="language-text">prepend</code>, at least, vanilla JS is probably enough<!-- -->—<!-- -->unless we&#x27;re pipelining (composing) functions.</p><p>The <code class="language-text">append</code> is the easiest:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><code><span style="color:#859900">const</span> { append } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>]

<span style="color:#93a1a1">// Vanilla</span>
<span style="color:#859900">const</span> vjsManual = [...nums, <span style="color:#2aa198">4</span>]

<span style="color:#93a1a1">// Our own append function</span>
<span style="color:#859900">const</span> vappend = <span class="hljs-function">(<span class="hljs-params">x, arr</span>) =&gt;</span> ([...arr, x])

<span style="color:#859900">const</span> vjsAppend = vappend(<span style="color:#2aa198">4</span>, nums)

<span style="color:#93a1a1">// Ramda</span>
<span style="color:#859900">const</span> ramdaAppend = append(<span style="color:#2aa198">4</span>, nums)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;[...nums, 4]:&#x27;</span>, vjsManual)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vappend(4, nums):&#x27;</span>, vjsAppend)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;append(4, nums):&#x27;</span>, ramdaAppend)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;nums is unchanged:&#x27;</span>, nums)</code></pre><p>The <code class="language-text">prepend</code> is also very easy:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span></code><code><span style="color:#859900">const</span> { prepend } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>]

<span style="color:#93a1a1">// Vanilla</span>
<span style="color:#859900">const</span> vjsManual = [<span style="color:#2aa198">0</span>, ...nums]

<span style="color:#93a1a1">// Our own prepend function</span>
<span style="color:#859900">const</span> vprepend = <span class="hljs-function">(<span class="hljs-params">x, arr</span>) =&gt;</span> ([x, ...arr])

<span style="color:#859900">const</span> vjsAppend = vprepend(<span style="color:#2aa198">0</span>, nums)

<span style="color:#93a1a1">// Ramda</span>
<span style="color:#859900">const</span> ramdaAppend = prepend(<span style="color:#2aa198">0</span>, nums)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;[0, ...nums]:&#x27;</span>, vjsManual)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vprepend(0, nums):&#x27;</span>, vjsAppend)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;prepend(0, nums):&#x27;</span>, ramdaAppend)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;nums is unchanged:&#x27;</span>, nums)</code></pre><p>The <code class="language-text">insert</code> function is a bit trickier:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span></code><code><span style="color:#859900">const</span> { insert } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> names = [
  <span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Carol&#x27;</span>, <span style="color:#2aa198">&#x27;Ted&#x27;</span>, <span style="color:#2aa198">&#x27;Samson&#x27;</span>, <span style="color:#2aa198">&#x27;Delilah&#x27;</span>
]

<span style="color:#93a1a1">// Ramda returns a copy</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;insert(3, \&#x27;Alice\&#x27;, names)&#x27;</span>, insert(<span style="color:#2aa198">3</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;names is unchanged:&#x27;</span>, names)

<span style="color:#93a1a1">// Splice mutates in place: DO NOT DO THIS!</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;splice returns []&#x27;</span>, names.splice(<span style="color:#2aa198">3</span>, <span style="color:#2aa198">0</span>, <span style="color:#2aa198">&#x27;George&#x27;</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;But names has been mutated!&#x27;</span>, names)

<span style="color:#93a1a1">// Let&#x27;s remove George</span>
<span style="color:#93a1a1">// Does this look intuitive to you?</span>
names.splice(<span style="color:#2aa198">3</span>, <span style="color:#2aa198">1</span>)

<span style="color:#93a1a1">// Best method with vanilla JS</span>
<span style="color:#859900">const</span> vjsInsert = <span class="hljs-function">(<span class="hljs-params">index, item, list</span>) =&gt;</span>
  index &gt; <span style="color:#2aa198">-1</span> &amp;&amp; index &lt; list.length
    ? [
        ...list.slice(<span style="color:#2aa198">0</span>, index),
        item,
        ...list.slice(index)
      ]
    : [...list, item]

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Vanilla JS: vjsInsert(3, \&#x27;Alice\&#x27;, names)&#x27;</span>, vjsInsert(<span style="color:#2aa198">3</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Out of bounds appends, same as Ramda insert (try it):&#x27;</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsInsert(-1, \&#x27;Alice\&#x27;, names)&#x27;</span>, vjsInsert(<span style="color:#2aa198">-1</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsInsert(7, \&#x27;Alice\&#x27;, names)&#x27;</span>, vjsInsert(<span style="color:#2aa198">7</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;names unchanged:&#x27;</span>, names)</code></pre><h3 id="remove">Use <code>remove</code> to remove an item from a list</h3><p>Ramda&#x27;s <code class="language-text">remove</code> function removes one or more sequential items from a list.</p><p>It expects three parameters:</p><ol><li>The index at which to start removing items.</li><li>The number of items to remove.</li><li>The list from which to remove the items</li></ol><p>And returns a <strong>copy</strong> of the list with the items removed.</p><p>We can accomplish this in vanilla JS with a little more work. What we want to <strong>avoid</strong> is using the Array <code class="language-text">splice</code> method as it mutates the array in place, and we would never do that, would we?</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span></code><code><span style="color:#859900">const</span> { remove } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> names = [
  <span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Carol&#x27;</span>, <span style="color:#2aa198">&#x27;Ted&#x27;</span>, <span style="color:#2aa198">&#x27;Alice&#x27;</span>, <span style="color:#2aa198">&#x27;Samson&#x27;</span>, <span style="color:#2aa198">&#x27;Delilah&#x27;</span>
]

<span style="color:#93a1a1">// Ramda returns a copy</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;remove(4, 1, names) removes Samson&#x27;</span>, remove(<span style="color:#2aa198">4</span>, <span style="color:#2aa198">1</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;names is unchanged:&#x27;</span>, names)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;remove(4, 2, names) removes Samson and Delilah&#x27;</span>, remove(<span style="color:#2aa198">4</span>, <span style="color:#2aa198">2</span>, names))

<span style="color:#93a1a1">// Splice mutates in place: DO NOT DO THIS!</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;splice returns an array of the removed items:&#x27;</span>, names.splice(<span style="color:#2aa198">4</span>, <span style="color:#2aa198">1</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;But names has been mutated!&#x27;</span>, names)

<span style="color:#93a1a1">// Let&#x27;s reinsert Samson</span>
<span style="color:#93a1a1">// Does this look intuitive to you?</span>
names.splice(<span style="color:#2aa198">4</span>, <span style="color:#2aa198">0</span>, <span style="color:#2aa198">&#x27;Samson&#x27;</span>)

<span style="color:#93a1a1">// Best method with vanilla JS</span>
<span style="color:#859900">const</span> vjsRemove = <span class="hljs-function">(<span class="hljs-params">index, len, list</span>) =&gt;</span>
  index &gt; <span style="color:#2aa198">-1</span> &amp;&amp; index &lt; list.length
    ? [
        ...list.slice(<span style="color:#2aa198">0</span>, index),
        ...list.slice(index + len)
      ]
    : [...list]

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Vanilla JS: vjsRemove(4, 1, names)&#x27;</span>, vjsRemove(<span style="color:#2aa198">4</span>, <span style="color:#2aa198">1</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;Out of bounds does nothing, same as Ramda remove (try it):&#x27;</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsRemove(-1, 1, names)&#x27;</span>, vjsRemove(<span style="color:#2aa198">-1</span>, <span style="color:#2aa198">1</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsRemove(7, 1, names)&#x27;</span>, vjsRemove(<span style="color:#2aa198">7</span>, <span style="color:#2aa198">1</span>, names))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;names unchanged:&#x27;</span>, names)</code></pre><h3 id="concat">Use <code>concat</code> or <code>zip</code> to combine two lists</h3><p>The <code class="language-text">concat</code> function takes two arrays of equal length and returns an array of arrays, each with two elements: the first from the first array; the second the matching element in the second array. For example:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code>concat([<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>], [<span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>]) <span style="color:#93a1a1">// yields [1, 2, 3, 4]</span></code></pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span><span class="react-syntax-highlighter-line-number">33
</span></code><code><span style="color:#859900">const</span> { concat } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> things = [<span style="color:#2aa198">&#x27;a&#x27;</span>, <span style="color:#2aa198">&#x27;b&#x27;</span>, <span style="color:#2aa198">&#x27;c&#x27;</span>]
<span style="color:#859900">const</span> moreThings = [<span style="color:#2aa198">&#x27;d&#x27;</span>, <span style="color:#2aa198">&#x27;e&#x27;</span>]
<span style="color:#859900">const</span> andMore = [<span style="color:#2aa198">&#x27;f&#x27;</span>, <span style="color:#2aa198">&#x27;g&#x27;</span>]

<span style="color:#93a1a1">// Ramda&#x27;s concat is easy peasy</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;concat(things, moreThings)&#x27;</span>, concat(things, moreThings))

<span style="color:#93a1a1">// concat only takes two parameters</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;concat(moreThings, things, andMore)&#x27;</span>, concat(moreThings, things, andMore))

<span style="color:#93a1a1">// The vanilla JS Array.concat is a bit trickier as you need to call</span>
<span style="color:#93a1a1">// it on one of the arrays: it is a method, after all</span>
<span style="color:#93a1a1">// But at least it RETURNS A COPY!</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;things.concat(moreThings)&#x27;</span>, things.concat(moreThings))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;moreThings.concat(things)&#x27;</span>, moreThings.concat(things))

<span style="color:#93a1a1">// The Array.concat method takes any number of arrays</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;things.concat(moreThings, andMore)&#x27;</span>, things.concat(moreThings, andMore))

<span style="color:#93a1a1">// But we can easily create our own in vanilla JS</span>
<span style="color:#859900">const</span> vjsConcat = <span class="hljs-function">(<span class="hljs-params">left, right</span>) =&gt;</span> ([...left, ...right])
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsConcat(things, moreThings)&#x27;</span>, vjsConcat(things, moreThings))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsConcat(moreThings, things, andMore)&#x27;</span>, vjsConcat(moreThings, things, andMore))

<span style="color:#93a1a1">// Or make one that takes any number of arrays</span>
<span style="color:#859900">const</span> superConcat = <span class="hljs-function">(<span class="hljs-params">x, ...xs</span>) =&gt;</span> xs.length &lt; <span style="color:#2aa198">1</span>
  ? x
  : [...x, ...superConcat(...xs)]

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;superConcat(things, moreThings, andMore)&#x27;</span>)
superConcat(things, moreThings, andMore)</code></pre><p>The <code class="language-text">zip</code> function takes two arrays of equal length and returns an array of arrays, each with two elements: the first from the first array; the second the matching element in the second array. For example:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code>zip([<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>], [<span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>]) <span style="color:#93a1a1">// yields [[1, 3], [2, 4]]</span></code></pre><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span></code><code><span style="color:#859900">const</span> { zip } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> digits = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>, <span style="color:#2aa198">6</span>]
<span style="color:#859900">const</span> numerals = [
  <span style="color:#2aa198">&#x27;one&#x27;</span>, <span style="color:#2aa198">&#x27;two&#x27;</span>, <span style="color:#2aa198">&#x27;three&#x27;</span>, <span style="color:#2aa198">&#x27;four&#x27;</span>, <span style="color:#2aa198">&#x27;five&#x27;</span>
]

<span style="color:#93a1a1">// Ramda&#x27;s zip zips while elements exist in both arrays and drops extras</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;zip(digits, numerals)&#x27;</span>, zip(digits, numerals))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;zip(numerals, digits)&#x27;</span>, zip(numerals, digits))

<span style="color:#93a1a1">// Implementing this is vanilla JS is no mean feat</span>
<span style="color:#93a1a1">// Behold the power of reduce!</span>
<span style="color:#859900">const</span> vjsZip = <span class="hljs-function">(<span class="hljs-params">left, right</span>) =&gt;</span> left.reduce(
  <span class="hljs-function">(<span class="hljs-params">acc, val, idx</span>) =&gt;</span> right[idx]    <span style="color:#93a1a1">// If there is an equivalent element in right</span>
    ? [...acc, [val, right[idx]]]  <span style="color:#93a1a1">// zip left and right together</span>
    : acc,                         <span style="color:#93a1a1">// else return the accumulator unchanged</span>
  []
)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsZip(digits, numerals)&#x27;</span>, vjsZip(digits, numerals))

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;vjsZip(numerals, digits)&#x27;</span>)
vjsZip(numerals, digits)</code></pre><h3 id="times">Use <code>times</code> to create a new list</h3><p>The <code class="language-text">times</code> function takes a function and a number of times, <code class="language-text">n</code>, to iterate and returns an array of <code class="language-text">n</code> length with the result of calling the function with the array index. So:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code>times(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n * <span style="color:#2aa198">2</span>, <span style="color:#2aa198">5</span>) <span style="color:#93a1a1">// yields [0, 2, 4, 6, 8]</span></code></pre><p>Easy, no?</p><p>Doing the same in vanilla JS can be a bit more complex.</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span></code><code><span style="color:#859900">const</span> { identity, times } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#93a1a1">// Ramda&#x27;s times takes a function and a number n</span>
<span style="color:#93a1a1">// Calls the function n times passing it 0, 1, 2, etc. (the index)</span>
<span style="color:#93a1a1">// identity is equivalent to x =&gt; x</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;times(identity, 5)&#x27;</span>, times(identity, <span style="color:#2aa198">5</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;times(n =&gt; (n + 1) * (n + 1), 5)&#x27;</span>, times(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> (n + <span style="color:#2aa198">1</span>) * (n + <span style="color:#2aa198">1</span>), <span style="color:#2aa198">5</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`times(() =&gt; &#x27;&#x27;, 3)`</span>, times(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span style="color:#2aa198">&#x27;&#x27;</span>, <span style="color:#2aa198">3</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;times(n =&gt; n.toString(2), 12)&#x27;</span>, times(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n.toString(<span style="color:#2aa198">2</span>), <span style="color:#2aa198">12</span>))

<span style="color:#93a1a1">// In vanilla JS, we can use the new keyword to instantiate an array and pass a length</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;new Array(5) has undefined values:&#x27;</span>, <span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">5</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;new Array(5).map((_, i) =&gt; i) does not work:&#x27;</span>, <span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">5</span>).map(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> i))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`new Array(5).fill(&#x27;&#x27;).map((_, i) =&gt; i) works:`</span>, <span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">5</span>).fill(<span style="color:#2aa198">&#x27;&#x27;</span>).map(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> i))
</code></pre><p>Some equivalencies (there may be easier ways, but we don&#x27;t know them):</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code>times(identity, <span style="color:#2aa198">5</span>) <span style="color:#93a1a1">// yields [0, 1, 2, 3, 4]</span>
<span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">5</span>).fill(<span style="color:#2aa198">null</span>).map(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> i) <span style="color:#93a1a1">// yields [0, 1, 2, 3, 4]</span>

times(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> (n + <span style="color:#2aa198">1</span>) * (n + <span style="color:#2aa198">1</span>), <span style="color:#2aa198">5</span>) <span style="color:#93a1a1">// yields [1, 4, 9, 16, 25]</span>
<span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">5</span>).fill(<span style="color:#2aa198">null</span>).map(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> (i + <span style="color:#2aa198">1</span>) * (i + <span style="color:#2aa198">1</span>)) <span style="color:#93a1a1">// [1, 4, 9, 16, 25]</span>

times(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span style="color:#2aa198">&#x27;&#x27;</span>, <span style="color:#2aa198">3</span>) <span style="color:#93a1a1">// yields [&#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]</span>
<span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">3</span>).fill(<span style="color:#2aa198">&#x27;&#x27;</span>) <span style="color:#93a1a1">// yields [&#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;]</span>

times(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n.toString(<span style="color:#2aa198">2</span>), <span style="color:#2aa198">12</span>) <span style="color:#93a1a1">// yields binary 0 to 1011</span>
<span style="color:#859900">new</span> <span style="color:#dc322f">Array</span>(<span style="color:#2aa198">12</span>).fill(<span style="color:#2aa198">null</span>).map(<span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> (i + <span style="color:#2aa198">1</span>).toString(<span style="color:#2aa198">2</span>)) <span style="color:#93a1a1">// yields binary 0 to 1011</span></code></pre><p>As you can see, while it can be done in vanilla JS, the Ramda <code class="language-text">times</code> function is much easier to use. You could, of course, create your own vanilla JS version, but we&#x27;ll leave that as an exercise for the reader.</p><p><strong>Note</strong>: The <code class="language-text">_</code> (underscore) is often used in functional programming to indicate a value that we don&#x27;t care about. In the above examples, the Array <code class="language-text">map</code> method passes the index as the <em>second</em> argument to the function. Here we only care about the index, not the <code class="language-text">null</code> that is the value at that index, so we use <code class="language-text">(_, i)</code> to get the index of the element and ignore the value at that index.</p><h3 id="head-tail">Use <code>head</code> and <code>tail</code> to destructure a list</h3><p>Remember that the <code class="language-text">head</code> of a list is just the first element in the list. If it&#x27;s a list of numbers, then the head is a number; if a list of strings, then the head is a string.</p><p>The <code class="language-text">tail</code>, in contrast, is <em>the rest of the array</em>, so it is <strong>always</strong> an array of the same type as the original array, just without the head element. Note: the <code class="language-text">tail</code> can be <em>empty</em>, but it is never undefined.</p><p>If we try to get the <code class="language-text">head</code> of an empty array, it will be <code class="language-text">undefined</code>.</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span><span class="react-syntax-highlighter-line-number">24
</span><span class="react-syntax-highlighter-line-number">25
</span><span class="react-syntax-highlighter-line-number">26
</span><span class="react-syntax-highlighter-line-number">27
</span><span class="react-syntax-highlighter-line-number">28
</span><span class="react-syntax-highlighter-line-number">29
</span><span class="react-syntax-highlighter-line-number">30
</span><span class="react-syntax-highlighter-line-number">31
</span><span class="react-syntax-highlighter-line-number">32
</span></code><code><span style="color:#859900">const</span> { head, tail } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> nums = [<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>]

<span style="color:#93a1a1">// In vanilla JS we can use Array.slice to get the head and tail:</span>
<span style="color:#859900">const</span> x = nums[<span style="color:#2aa198">0</span>]
<span style="color:#859900">const</span> xs = nums.slice(<span style="color:#2aa198">1</span>)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`x is <span style="color:#cb4b16">${x}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`xs is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(xs)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;nums is unchanged:&#x27;</span>, nums)

<span style="color:#93a1a1">// We can also use destructuring, which is often easier and clearer</span>
<span style="color:#859900">const</span> [y, ...ys] = nums

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`y is <span style="color:#cb4b16">${y}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`ys is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(ys)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;nums is unchanged:&#x27;</span>, nums)

<span style="color:#93a1a1">// Look what happens with an empty list:</span>
<span style="color:#859900">const</span> [z, ...zs] = []

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`z (the head of []) is <span style="color:#cb4b16">${z}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`zs (the tail of []) is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(zs)}</span>`</span>)

<span style="color:#93a1a1">// Ramda also offers head and tail functions</span>
<span style="color:#859900">const</span> r = head(nums)
<span style="color:#859900">const</span> rs = tail(nums)

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`r is <span style="color:#cb4b16">${r}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`rs is <span style="color:#cb4b16">${<span style="color:#dc322f">JSON</span>.stringify(rs)}</span>`</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;nums is unchanged:&#x27;</span>, nums)</code></pre><p>Frankly, this is one area where Ramda&#x27;s functions don&#x27;t always add much value. It is usually easier to use destructuring. Where Ramda&#x27;s <code class="language-text">head</code> and <code class="language-text">tail</code> functions are very useful is in pipelined functions, discussed in <a aria-label="Composition" href="/fp/inductive/composition/">We can has pipelines!</a></p><h3 id="all">Use <code>all</code>, <code>any</code>, or <code>none</code> to test a list</h3><p>The <code class="language-text">all</code> takes a function and a list, applies the function to each item in the list, and returns <code class="language-text">true</code> <em>if and only if</em> the function passed returns true <strong>every time</strong> it is applied to an item in the list.</p><p>The vanilla JS equivalent is the Array <code class="language-text">every</code> method.</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code><span style="color:#859900">const</span> { all } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> tests = [<span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Sally&#x27;</span>, <span style="color:#2aa198">&#x27;Samuel&#x27;</span>, <span style="color:#2aa198">&#x27;Ruth&#x27;</span>]

<span style="color:#93a1a1">// Vanilla JS</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.every(name =&gt; name.length &gt; 1)&#x27;</span>, tests.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">1</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.every(name =&gt; name.length &gt; 4)&#x27;</span>, tests.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">4</span>))

<span style="color:#93a1a1">// Ramda</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;all(name =&gt; name.length &gt; 1, tests)&#x27;</span>, all(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">1</span>, tests))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;all(name =&gt; name.length &gt; 4, tests)&#x27;</span>, all(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">4</span>, tests))
</code></pre><p>The <code class="language-text">any</code> takes a function and a list, applies the function to each item in the list, and returns <code class="language-text">true</code> <em>if and only if</em> the function passed returns true <strong>at least once</strong> when it is applied to an item in the list.</p><p>The vanilla JS equivalent is the Array <code class="language-text">some</code> method.</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span></code><code><span style="color:#859900">const</span> { any } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> tests = [<span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Sally&#x27;</span>, <span style="color:#2aa198">&#x27;Samuel&#x27;</span>, <span style="color:#2aa198">&#x27;Ruth&#x27;</span>]

<span style="color:#93a1a1">// Vanilla JS</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.some(name =&gt; name.length &gt; 4)&#x27;</span>, tests.some(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">4</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.some(name =&gt; name.length &gt; 10)&#x27;</span>, tests.some(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">10</span>))

<span style="color:#93a1a1">// Ramda</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;any(name =&gt; name.length &gt; 4, tests)&#x27;</span>, any(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">4</span>, tests))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;any(name =&gt; name.length &gt; 10, tests)&#x27;</span>, any(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">10</span>, tests))
</code></pre><p>The <code class="language-text">none</code> takes a function and a list, applies the function to each item in the list, and returns <code class="language-text">true</code> <em>if and only if</em> the function passed returns <strong>false</strong> every time it is applied to an item in the list.</p><p>The vanilla JS equivalent is the Array <code class="language-text">every</code> method, but with the function changed to return <code class="language-text">true</code> when the condition is <strong>not</strong> met, which is pretty non-intuitive. But there doesn&#x27;t appear to be a true equivalent of <code class="language-text">none</code></p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span></code><code><span style="color:#859900">const</span> { none } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> tests = [<span style="color:#2aa198">&#x27;Bob&#x27;</span>, <span style="color:#2aa198">&#x27;Sally&#x27;</span>, <span style="color:#2aa198">&#x27;Samuel&#x27;</span>, <span style="color:#2aa198">&#x27;Ruth&#x27;</span>]

<span style="color:#93a1a1">// Vanilla JS</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.every(name =&gt; name.length &lt;= 1)&#x27;</span>, tests.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &lt;= <span style="color:#2aa198">1</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.every(name =&gt; name.length &lt;= 4)&#x27;</span>, tests.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &lt;= <span style="color:#2aa198">4</span>))

<span style="color:#93a1a1">// Or perhaps more clearly</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.every(name =&gt; !(name.length &gt; 4))&#x27;</span>, tests.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> !(name.length &gt; <span style="color:#2aa198">4</span>)))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;tests.every(name =&gt; !(name.length &gt; 10))&#x27;</span>, tests.every(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> !(name.length &gt; <span style="color:#2aa198">10</span>)))

<span style="color:#93a1a1">// Ramda</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;none(name =&gt; name.length &gt; 4, tests)&#x27;</span>, none(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">4</span>, tests))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;none(name =&gt; name.length &gt; 10, tests)&#x27;</span>, none(<span class="hljs-function"><span class="hljs-params">name</span> =&gt;</span> name.length &gt; <span style="color:#2aa198">10</span>, tests))
</code></pre><p>Of course, all of the Array methods are <strong>methods</strong>, so they must be called on the array, which makes pipelining functions more difficult, as we&#x27;ll see. The Ramda functions are true functions.</p><h3 id="flatten">Use <code>flatten</code> to flatten nested lists into a single list</h3><p>This is a simple way to turn this:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span></code><code>[[<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>], [<span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], [<span style="color:#2aa198">6</span>, <span style="color:#2aa198">7</span>, <span style="color:#2aa198">8</span>]]</code></pre><p>Into this:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span></code><code>[<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>, <span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>, <span style="color:#2aa198">6</span>, <span style="color:#2aa198">7</span>, <span style="color:#2aa198">8</span>]</code></pre><p>Let&#x27;s try it:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span><span class="react-syntax-highlighter-line-number">15
</span><span class="react-syntax-highlighter-line-number">16
</span><span class="react-syntax-highlighter-line-number">17
</span><span class="react-syntax-highlighter-line-number">18
</span><span class="react-syntax-highlighter-line-number">19
</span><span class="react-syntax-highlighter-line-number">20
</span><span class="react-syntax-highlighter-line-number">21
</span><span class="react-syntax-highlighter-line-number">22
</span><span class="react-syntax-highlighter-line-number">23
</span></code><code><span style="color:#859900">const</span> { flatten, unnest } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> nested = [[<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>], [<span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], [<span style="color:#2aa198">6</span>, <span style="color:#2aa198">7</span>, <span style="color:#2aa198">8</span>]]
<span style="color:#859900">const</span> deeplyNested = [<span style="color:#2aa198">1</span>, [<span style="color:#2aa198">2</span>, [<span style="color:#2aa198">3</span>, [<span style="color:#2aa198">4</span>, [<span style="color:#2aa198">5</span>, [<span style="color:#2aa198">6</span>]]]]]]

<span style="color:#93a1a1">// Ramda flatten does so recursively</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;flatten(nested)&#x27;</span>, flatten(nested))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;flatten(deeplyNested)&#x27;</span>, flatten(deeplyNested))

<span style="color:#93a1a1">// Ramda unnest flattens just one level deep</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;unnest(nested)&#x27;</span>, unnest(nested))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;unnest(deeplyNested)&#x27;</span>, unnest(deeplyNested))

<span style="color:#93a1a1">// Vanilla JS flatMap workes like unnest</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;nested.flatMap(n =&gt; n)&#x27;</span>, nested.flatMap(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;deeplyNested.flatMap(n =&gt; n)&#x27;</span>, deeplyNested.flatMap(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n))

<span style="color:#93a1a1">// Vanilla JS flat works a bit like unnest, but it can specify the</span>
<span style="color:#93a1a1">// levels of nesting to flatten</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;deeplyNested.flat(3)&#x27;</span>, deeplyNested.flat(<span style="color:#2aa198">3</span>))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;deeplyNested.flat(5)&#x27;</span>, deeplyNested.flat(<span style="color:#2aa198">5</span>))

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;deeplyNested remains unchanged:&#x27;</span>, deeplyNested)</code></pre><p>In this unusual case, working with <em>partially</em> unnesting arrays is actually easier with the Array <code class="language-text">flat</code> method. Of course, because the method returns a copy, we could always create our own.</p><p>Here use Ramda&#x27;s <code class="language-text">curry</code> function (more on this later) to make it possible to apply the arguments one at a time. This gives us the same power as Ramda&#x27;s functions to be <!-- -->“<!-- -->partially applied<!-- -->”<!-- --> and then used in pipelined functions:</p><pre style="display:block;overflow-x:auto;padding:0.5em;background:#fdf6e3;color:#657b83"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span></code><code><span style="color:#859900">const</span> { curry } = <span style="color:#dc322f">require</span>(<span style="color:#2aa198">&#x27;ramda&#x27;</span>)

<span style="color:#859900">const</span> nested = [[<span style="color:#2aa198">1</span>, <span style="color:#2aa198">2</span>, <span style="color:#2aa198">3</span>], [<span style="color:#2aa198">4</span>, <span style="color:#2aa198">5</span>], [<span style="color:#2aa198">6</span>, <span style="color:#2aa198">7</span>, <span style="color:#2aa198">8</span>]]
<span style="color:#859900">const</span> deeplyNested = [<span style="color:#2aa198">1</span>, [<span style="color:#2aa198">2</span>, [<span style="color:#2aa198">3</span>, [<span style="color:#2aa198">4</span>, [<span style="color:#2aa198">5</span>, [<span style="color:#2aa198">6</span>]]]]]]

<span style="color:#859900">const</span> unnest = curry(<span class="hljs-function">(<span class="hljs-params">n, list</span>) =&gt;</span> list.flat(n))

<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;unnest(3, deeplyNested)&#x27;</span>, unnest(<span style="color:#2aa198">3</span>, deeplyNested))
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;unnest(5, deeplyNested)&#x27;</span>, unnest(<span style="color:#2aa198">5</span>, deeplyNested))

<span style="color:#859900">const</span> unnestTwoLevels = unnest(<span style="color:#2aa198">2</span>)
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">&#x27;unnestTwoLevels(deeplyNested)&#x27;</span>, unnestTwoLevels(deeplyNested))</code></pre><h3 id="avoid-foreach">Avoid <code>forEach</code>! Avoid <code>forEach</code>! Avoid <code>forEach</code>!</h3><p>The <code class="language-text">forEach</code> method on the Array (and<!-- -->—<!-- -->gasp!<!-- -->—<!-- -->the <code class="language-text">forEach</code> function in Ramda) is used <strong>entirely for side effects</strong>. Say it ain&#x27;t so, Ramda!</p><p>Side effects almost always mean mutation. And that leads directly to the <em>zombie apocalypse</em>. Avoid.</p><small>Get thee behind me, Satan!</small><pre style="display:block;overflow-x:auto;padding:0.5em;background:#002b36;color:#839496"><code style="float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span><span class="react-syntax-highlighter-line-number">10
</span><span class="react-syntax-highlighter-line-number">11
</span><span class="react-syntax-highlighter-line-number">12
</span><span class="react-syntax-highlighter-line-number">13
</span><span class="react-syntax-highlighter-line-number">14
</span></code><code><span style="color:#586e75">// EVIL! PURE EVIL!</span>
<span style="color:#586e75">// forEach is used only for side effects</span>

<span style="color:#859900">const</span> output = [<span style="color:#2aa198">&#x27;a&#x27;</span>, <span style="color:#2aa198">&#x27;b&#x27;</span>, <span style="color:#2aa198">&#x27;c&#x27;</span>].forEach(
  <span class="hljs-function">(<span class="hljs-params">value, index, array</span>) =&gt;</span> {
    <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The value is <span style="color:#cb4b16">${value}</span>`</span>)
    <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The index is <span style="color:#cb4b16">${index}</span>`</span>)
    <span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The array is [<span style="color:#cb4b16">${array}</span>]`</span>)
  }
)

<span style="color:#586e75">// How can forEach do anything if the result is undefined?</span>
<span style="color:#586e75">// Only by side effects. Ugh.</span>
<span style="color:#dc322f">console</span>.log(<span style="color:#2aa198">`The output of Array.forEach is <span style="color:#cb4b16">${output}</span>`</span>)</code></pre><p>Every time you use <code class="language-text">forEach</code>, a kitten dies. A really adorable one. Just sayin&#x27;.</p><p>Next, we&#x27;ll talk about <a aria-label="Composition" href="/fp/inductive/composition/">pipelines</a>.</p><small>Errors, bugs, suggestions, questions? Spare paper bags filled with unmarked fifties and hundreds? Contact <a href="mailto:charles_munat@bnz.co.nz">Charles Munat</a></small>.</article></main></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/inductive/iteration/";window.webpackCompilationHash="528d4bcfc8446e8b4b7b";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-06b5d55fd4791a5ea630.js"],"component---src-pages-404-js":["/component---src-pages-404-js-aa130cc3dd984366c816.js"],"component---src-pages-cypress-index-mdx":["/component---src-pages-cypress-index-mdx-36023b9d9af235866c74.js"],"component---src-pages-index-mdx":["/component---src-pages-index-mdx-917fe8808b41ba998aa5.js"],"component---src-pages-deductive-index-mdx":["/component---src-pages-deductive-index-mdx-e8ed119a11cbb054a23e.js"],"component---src-pages-inductive-composition-index-mdx":["/component---src-pages-inductive-composition-index-mdx-95f8c8f2eac4ff1fe6f4.js"],"component---src-pages-deductive-more-fp-concepts-index-mdx":["/component---src-pages-deductive-more-fp-concepts-index-mdx-372ca483a37336be7cee.js"],"component---src-pages-inductive-immutability-index-mdx":["/component---src-pages-inductive-immutability-index-mdx-35eba984c022d2300fcc.js"],"component---src-pages-inductive-index-mdx":["/component---src-pages-inductive-index-mdx-a334bdf3c3bd70e11372.js"],"component---src-pages-deductive-pure-functions-index-mdx":["/component---src-pages-deductive-pure-functions-index-mdx-f0025784d1beed3b8b35.js"],"component---src-pages-inductive-reusability-index-mdx":["/component---src-pages-inductive-reusability-index-mdx-a3276e539fe724795a8a.js"],"component---src-pages-inductive-iteration-index-mdx":["/component---src-pages-inductive-iteration-index-mdx-2b8b5ec776f6695bbcb9.js"]};/*]]>*/</script><script src="/fp/component---src-pages-inductive-iteration-index-mdx-2b8b5ec776f6695bbcb9.js" async=""></script><script src="/fp/2-33a1569ae39f9377b1e4.js" async=""></script><script src="/fp/1-fb0f1017b9d3441c806f.js" async=""></script><script src="/fp/styles-c54a44287a55b5827151.js" async=""></script><script src="/fp/app-06b5d55fd4791a5ea630.js" async=""></script><script src="/fp/webpack-runtime-af43978c15e821c38d8e.js" async=""></script></body></html>